"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/analytics/route";
exports.ids = ["app/api/analytics/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalytics%2Froute&page=%2Fapi%2Fanalytics%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalytics%2Froute.ts&appDir=C%3A%5CUsers%5Cpriya%5COneDrive%5CDesktop%5CTourism-Jharkhand%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cpriya%5COneDrive%5CDesktop%5CTourism-Jharkhand&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalytics%2Froute&page=%2Fapi%2Fanalytics%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalytics%2Froute.ts&appDir=C%3A%5CUsers%5Cpriya%5COneDrive%5CDesktop%5CTourism-Jharkhand%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cpriya%5COneDrive%5CDesktop%5CTourism-Jharkhand&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_priya_OneDrive_Desktop_Tourism_Jharkhand_app_api_analytics_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/analytics/route.ts */ \"(rsc)/./app/api/analytics/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/analytics/route\",\n        pathname: \"/api/analytics\",\n        filename: \"route\",\n        bundlePath: \"app/api/analytics/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\priya\\\\OneDrive\\\\Desktop\\\\Tourism-Jharkhand\\\\app\\\\api\\\\analytics\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_priya_OneDrive_Desktop_Tourism_Jharkhand_app_api_analytics_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/analytics/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhbmFseXRpY3MlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmFuYWx5dGljcyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmFuYWx5dGljcyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNwcml5YSU1Q09uZURyaXZlJTVDRGVza3RvcCU1Q1RvdXJpc20tSmhhcmtoYW5kJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNwcml5YSU1Q09uZURyaXZlJTVDRGVza3RvcCU1Q1RvdXJpc20tSmhhcmtoYW5kJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNxQztBQUNsSDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL215LXYwLXByb2plY3QvPzk4ZjIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcVXNlcnNcXFxccHJpeWFcXFxcT25lRHJpdmVcXFxcRGVza3RvcFxcXFxUb3VyaXNtLUpoYXJraGFuZFxcXFxhcHBcXFxcYXBpXFxcXGFuYWx5dGljc1xcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYW5hbHl0aWNzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYW5hbHl0aWNzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9hbmFseXRpY3Mvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxwcml5YVxcXFxPbmVEcml2ZVxcXFxEZXNrdG9wXFxcXFRvdXJpc20tSmhhcmtoYW5kXFxcXGFwcFxcXFxhcGlcXFxcYW5hbHl0aWNzXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9hbmFseXRpY3Mvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalytics%2Froute&page=%2Fapi%2Fanalytics%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalytics%2Froute.ts&appDir=C%3A%5CUsers%5Cpriya%5COneDrive%5CDesktop%5CTourism-Jharkhand%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cpriya%5COneDrive%5CDesktop%5CTourism-Jharkhand&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/analytics/route.ts":
/*!************************************!*\
  !*** ./app/api/analytics/route.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_advanced_analytics__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/advanced-analytics */ \"(rsc)/./lib/advanced-analytics.ts\");\n\n\n// AI-powered prediction engine using advanced machine learning\nasync function generateAdvancedPredictions(visitorData, destinations, sentimentTrends, feedbackData, revenueData) {\n    try {\n        // Use advanced analytics engine for comprehensive AI analysis\n        const advancedAnalyticsResult = await _lib_advanced_analytics__WEBPACK_IMPORTED_MODULE_1__.advancedAnalytics.generateAdvancedAnalytics(visitorData, feedbackData, revenueData, destinations);\n        return advancedAnalyticsResult;\n    } catch (error) {\n        console.error(\"Advanced AI prediction generation failed:\", error);\n        // Fallback to basic predictions\n        const visitorTrend = visitorData.slice(-6).map((d, i)=>({\n                x: i,\n                y: d.visitors\n            }));\n        const slope = calculateSlope(visitorTrend);\n        return {\n            predictiveModels: {\n                visitorForecast: {\n                    model: \"Basic Linear Regression\",\n                    accuracy: 0.6,\n                    lastTrained: new Date().toISOString(),\n                    predictions: [\n                        {\n                            month: \"Next Month\",\n                            predictedVisitors: Math.max(0, Math.floor(visitorData[visitorData.length - 1].visitors + slope)),\n                            confidence: 0.6\n                        }\n                    ]\n                },\n                revenueProjection: {\n                    model: \"Revenue Trend Analysis\",\n                    accuracy: 0.5,\n                    lastTrained: new Date().toISOString(),\n                    predictions: []\n                },\n                sentimentTrend: {\n                    model: \"Sentiment Moving Average\",\n                    accuracy: 0.7,\n                    lastTrained: new Date().toISOString(),\n                    predictions: []\n                },\n                seasonalPattern: {\n                    model: \"Seasonal Decomposition\",\n                    accuracy: 0.8,\n                    lastTrained: new Date().toISOString(),\n                    predictions: []\n                },\n                riskAssessment: {\n                    model: \"Risk Scoring Model\",\n                    accuracy: 0.6,\n                    lastTrained: new Date().toISOString(),\n                    predictions: []\n                }\n            },\n            mlInsights: [],\n            realTimeMetrics: {\n                currentVisitors: visitorData[visitorData.length - 1]?.visitors || 0,\n                sentimentScore: 75,\n                alertLevel: \"green\",\n                trendDirection: slope > 0 ? \"up\" : slope < 0 ? \"down\" : \"stable\",\n                anomaliesDetected: 0\n            },\n            aiRecommendations: {\n                strategic: [\n                    \"Continue monitoring tourism metrics\"\n                ],\n                operational: [\n                    \"Maintain current service standards\"\n                ],\n                marketing: [\n                    \"Leverage positive feedback in campaigns\"\n                ],\n                infrastructure: [\n                    \"Plan for seasonal capacity adjustments\"\n                ]\n            }\n        };\n    }\n}\n// Calculate slope for linear regression (simple trend analysis)\nfunction calculateSlope(data) {\n    const n = data.length;\n    const sumX = data.reduce((sum, point)=>sum + point.x, 0);\n    const sumY = data.reduce((sum, point)=>sum + point.y, 0);\n    const sumXY = data.reduce((sum, point)=>sum + point.x * point.y, 0);\n    const sumXX = data.reduce((sum, point)=>sum + point.x * point.x, 0);\n    return (n * sumXY - sumX * sumY) / (n * sumXX - sumX * sumX);\n}\nasync function generateEnhancedAnalyticsData() {\n    const currentDate = new Date();\n    const currentMonth = currentDate.getMonth();\n    const currentYear = currentDate.getFullYear();\n    // Generate visitor data for the last 12 months\n    const visitorData = Array.from({\n        length: 12\n    }, (_, i)=>{\n        const month = (currentMonth - 11 + i + 12) % 12;\n        const year = month > currentMonth ? currentYear - 1 : currentYear;\n        const monthName = new Date(year, month).toLocaleString(\"default\", {\n            month: \"short\"\n        });\n        // Simulate seasonal patterns\n        const baseVisitors = 1000;\n        const seasonalMultiplier = [\n            0.6,\n            0.7,\n            0.9,\n            1.2,\n            1.4,\n            1.1,\n            0.8,\n            0.9,\n            1.0,\n            1.3,\n            1.5,\n            1.2\n        ][month];\n        const visitors = Math.floor(baseVisitors * seasonalMultiplier * (0.8 + Math.random() * 0.4));\n        return {\n            month: monthName,\n            year,\n            visitors,\n            revenue: visitors * (800 + Math.random() * 400),\n            satisfaction: 3.5 + Math.random() * 1.5,\n            bookings: Math.floor(visitors * 0.3)\n        };\n    });\n    // Destination popularity data\n    const destinations = [\n        {\n            name: \"Netarhat\",\n            visitors: 15420,\n            revenue: 12500000,\n            satisfaction: 4.6,\n            growth: 15.2\n        },\n        {\n            name: \"Betla National Park\",\n            visitors: 12800,\n            revenue: 9800000,\n            satisfaction: 4.3,\n            growth: 8.7\n        },\n        {\n            name: \"Hundru Falls\",\n            visitors: 11200,\n            revenue: 6400000,\n            satisfaction: 4.5,\n            growth: 22.1\n        },\n        {\n            name: \"Deoghar\",\n            visitors: 18900,\n            revenue: 15200000,\n            satisfaction: 4.4,\n            growth: 5.3\n        },\n        {\n            name: \"Hazaribagh National Park\",\n            visitors: 8600,\n            revenue: 5100000,\n            satisfaction: 4.2,\n            growth: 12.8\n        },\n        {\n            name: \"Dassam Falls\",\n            visitors: 7300,\n            revenue: 3900000,\n            satisfaction: 4.1,\n            growth: 18.5\n        }\n    ];\n    // Tourist demographics\n    const demographics = {\n        ageGroups: [\n            {\n                group: \"18-25\",\n                percentage: 28,\n                count: 8400\n            },\n            {\n                group: \"26-35\",\n                percentage: 35,\n                count: 10500\n            },\n            {\n                group: \"36-45\",\n                percentage: 22,\n                count: 6600\n            },\n            {\n                group: \"46-60\",\n                percentage: 12,\n                count: 3600\n            },\n            {\n                group: \"60+\",\n                percentage: 3,\n                count: 900\n            }\n        ],\n        origin: [\n            {\n                state: \"West Bengal\",\n                percentage: 25,\n                count: 7500\n            },\n            {\n                state: \"Bihar\",\n                percentage: 20,\n                count: 6000\n            },\n            {\n                state: \"Odisha\",\n                percentage: 18,\n                count: 5400\n            },\n            {\n                state: \"Jharkhand\",\n                percentage: 15,\n                count: 4500\n            },\n            {\n                state: \"Delhi\",\n                percentage: 12,\n                count: 3600\n            },\n            {\n                state: \"Others\",\n                percentage: 10,\n                count: 3000\n            }\n        ],\n        purpose: [\n            {\n                type: \"Leisure\",\n                percentage: 45,\n                count: 13500\n            },\n            {\n                type: \"Cultural Experience\",\n                percentage: 25,\n                count: 7500\n            },\n            {\n                type: \"Adventure\",\n                percentage: 15,\n                count: 4500\n            },\n            {\n                type: \"Spiritual\",\n                percentage: 10,\n                count: 3000\n            },\n            {\n                type: \"Business\",\n                percentage: 5,\n                count: 1500\n            }\n        ]\n    };\n    // Vendor performance\n    const vendorPerformance = [\n        {\n            id: \"seller_1\",\n            name: \"Kumari Devi\",\n            category: \"Handicrafts\",\n            revenue: 185000,\n            orders: 74,\n            rating: 4.8,\n            growth: 25.3\n        },\n        {\n            id: \"seller_2\",\n            name: \"Birsa Munda Family\",\n            category: \"Homestays\",\n            revenue: 156000,\n            orders: 130,\n            rating: 4.9,\n            growth: 18.7\n        },\n        {\n            id: \"seller_3\",\n            name: \"Raman Kumar\",\n            category: \"Experiences\",\n            revenue: 231200,\n            orders: 289,\n            rating: 4.7,\n            growth: 32.1\n        },\n        {\n            id: \"seller_4\",\n            name: \"Santhal Craft Collective\",\n            category: \"Handicrafts\",\n            revenue: 142000,\n            orders: 79,\n            rating: 4.5,\n            growth: 15.2\n        },\n        {\n            id: \"seller_5\",\n            name: \"Green Wheels Jharkhand\",\n            category: \"Transport\",\n            revenue: 98000,\n            orders: 816,\n            rating: 4.4,\n            growth: 8.9\n        }\n    ];\n    // Sentiment analysis summary\n    const sentimentTrends = Array.from({\n        length: 30\n    }, (_, i)=>{\n        const date = new Date(currentDate.getTime() - (29 - i) * 24 * 60 * 60 * 1000);\n        return {\n            date: date.toISOString().split(\"T\")[0],\n            positive: 60 + Math.random() * 20,\n            negative: 10 + Math.random() * 15,\n            neutral: 25 + Math.random() * 10\n        };\n    });\n    // Generate mock feedback data for AI analysis\n    const mockFeedbackData = Array.from({\n        length: 100\n    }, (_, i)=>({\n            id: i + 1,\n            location: destinations[i % destinations.length].name,\n            category: [\n                \"Homestays\",\n                \"Experiences\",\n                \"Food\",\n                \"Transport\"\n            ][i % 4],\n            aiAnalysis: {\n                sentiment: Math.random() > 0.7 ? \"negative\" : Math.random() > 0.3 ? \"positive\" : \"neutral\",\n                confidence: 0.7 + Math.random() * 0.3,\n                toxicity: Math.random() * 0.2,\n                urgency: Math.random() > 0.9 ? \"high\" : \"low\",\n                keywords: [\n                    \"service\",\n                    \"quality\",\n                    \"experience\"\n                ],\n                actionableInsights: [\n                    \"Improve service quality\"\n                ]\n            },\n            timestamp: new Date(Date.now() - Math.random() * 30 * 24 * 60 * 60 * 1000).toISOString()\n        }));\n    // Generate revenue data\n    const revenueData = visitorData.map((v)=>({\n            month: v.month,\n            revenue: v.revenue\n        }));\n    // AI-powered predictions using advanced analytics\n    const advancedAnalyticsResult = await generateAdvancedPredictions(visitorData, destinations, sentimentTrends, mockFeedbackData, revenueData);\n    // Enhanced destinations with AI insights\n    const enhancedDestinations = destinations.map((dest)=>{\n        const destFeedback = mockFeedbackData.filter((f)=>f.location === dest.name);\n        const negativeCount = destFeedback.filter((f)=>f.aiAnalysis.sentiment === \"negative\").length;\n        const riskLevel = negativeCount > destFeedback.length * 0.3 ? \"high\" : negativeCount > destFeedback.length * 0.15 ? \"medium\" : \"low\";\n        return {\n            ...dest,\n            riskLevel: riskLevel,\n            aiInsights: [\n                riskLevel === \"high\" ? \"High negative sentiment detected\" : \"Sentiment within normal range\",\n                dest.growth > 15 ? \"Strong growth trajectory\" : \"Moderate growth\",\n                dest.satisfaction > 4.5 ? \"Excellent visitor satisfaction\" : \"Room for satisfaction improvement\"\n            ]\n        };\n    });\n    // Enhanced sentiment trends with toxicity and urgency\n    const enhancedSentimentTrends = sentimentTrends.map((trend)=>({\n            ...trend,\n            toxicity: Math.random() * 10,\n            urgency: Math.random() * 20\n        }));\n    // Enhanced vendor performance with AI scoring\n    const enhancedVendorPerformance = vendorPerformance.map((vendor)=>({\n            ...vendor,\n            aiScore: Math.round((vendor.rating * 0.4 + (vendor.growth + 50) / 100 * 0.6) * 100)\n        }));\n    // Legacy predictions for backward compatibility\n    const predictions = {\n        nextMonthVisitors: advancedAnalyticsResult.predictiveModels.visitorForecast.predictions[0]?.predictedVisitors || Math.floor(visitorData[visitorData.length - 1].visitors * 1.1),\n        peakSeason: \"November-December (Chhath Puja & Winter season)\",\n        emergingDestinations: enhancedDestinations.filter((d)=>d.growth > 15).map((d)=>d.name).slice(0, 3),\n        riskAreas: enhancedDestinations.filter((d)=>d.riskLevel === \"high\").map((d)=>d.name),\n        recommendedActions: advancedAnalyticsResult.aiRecommendations.strategic.slice(0, 3),\n        confidenceScore: Math.round(Object.values(advancedAnalyticsResult.predictiveModels).reduce((sum, model)=>sum + model.accuracy, 0) / 5 * 100)\n    };\n    return {\n        overview: {\n            totalVisitors: visitorData.reduce((sum, month)=>sum + month.visitors, 0),\n            totalRevenue: visitorData.reduce((sum, month)=>sum + month.revenue, 0),\n            averageSatisfaction: visitorData.reduce((sum, month)=>sum + month.satisfaction, 0) / visitorData.length,\n            totalBookings: visitorData.reduce((sum, month)=>sum + month.bookings, 0),\n            activeVendors: enhancedVendorPerformance.length,\n            totalFeedbacks: mockFeedbackData.length,\n            growthRate: Math.round((visitorData[visitorData.length - 1].visitors - visitorData[0].visitors) / visitorData[0].visitors * 100),\n            alertLevel: advancedAnalyticsResult.realTimeMetrics.alertLevel\n        },\n        visitorTrends: visitorData.map((v)=>({\n                ...v,\n                predictedVisitors: Math.round(v.visitors * (1 + Math.random() * 0.2)),\n                anomalyDetected: Math.random() > 0.9\n            })),\n        destinations: enhancedDestinations,\n        demographics,\n        vendorPerformance: enhancedVendorPerformance,\n        sentimentTrends: enhancedSentimentTrends,\n        advancedAnalytics: advancedAnalyticsResult,\n        predictions,\n        lastUpdated: new Date().toISOString()\n    };\n}\nasync function GET(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const timeRange = searchParams.get(\"timeRange\") || \"12months\";\n        const category = searchParams.get(\"category\") || \"all\";\n        const includeAdvanced = searchParams.get(\"advanced\") === \"true\";\n        const analyticsData = await generateEnhancedAnalyticsData();\n        // Filter data based on parameters\n        let filteredData = {\n            ...analyticsData\n        };\n        if (timeRange === \"30days\") {\n            filteredData.visitorTrends = analyticsData.visitorTrends.slice(-1);\n            filteredData.sentimentTrends = analyticsData.sentimentTrends.slice(-30);\n        } else if (timeRange === \"6months\") {\n            filteredData.visitorTrends = analyticsData.visitorTrends.slice(-6);\n        }\n        if (category !== \"all\") {\n            filteredData.vendorPerformance = analyticsData.vendorPerformance.filter((v)=>v.category.toLowerCase() === category.toLowerCase());\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(filteredData);\n    } catch (error) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to fetch analytics data\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const { event, data } = body;\n        // Track custom events (visitor actions, bookings, etc.)\n        console.log(`Analytics Event: ${event}`, data);\n        // In production, this would store the event in a real analytics database\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: \"Event tracked successfully\"\n        });\n    } catch (error) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to track event\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFJLENBQUM7WUFBRU0sU0FBUztZQUFNQyxTQUFTO1FBQTZCO0lBQ2xGLEVBQUUsT0FBTzFKLE9BQU87UUFDZCxPQUFPVixxREFBWUEsQ0FBQzZKLElBQUksQ0FBQztZQUFFbkosT0FBTztRQUF3QixHQUFHO1lBQUVvSixRQUFRO1FBQUk7SUFDN0U7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL215LXYwLXByb2plY3QvLi9hcHAvYXBpL2FuYWx5dGljcy9yb3V0ZS50cz84OWFjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcclxuaW1wb3J0IHsgYWR2YW5jZWRBbmFseXRpY3MsIEFkdmFuY2VkQW5hbHl0aWNzIH0gZnJvbSAnQC9saWIvYWR2YW5jZWQtYW5hbHl0aWNzJ1xyXG5cclxuLy8gRW5oYW5jZWQgYW5hbHl0aWNzIGludGVyZmFjZVxyXG5pbnRlcmZhY2UgRW5oYW5jZWRBbmFseXRpY3NEYXRhIHtcclxuICBvdmVydmlldzoge1xyXG4gICAgdG90YWxWaXNpdG9yczogbnVtYmVyXHJcbiAgICB0b3RhbFJldmVudWU6IG51bWJlclxyXG4gICAgYXZlcmFnZVNhdGlzZmFjdGlvbjogbnVtYmVyXHJcbiAgICB0b3RhbEJvb2tpbmdzOiBudW1iZXJcclxuICAgIGFjdGl2ZVZlbmRvcnM6IG51bWJlclxyXG4gICAgdG90YWxGZWVkYmFja3M6IG51bWJlclxyXG4gICAgZ3Jvd3RoUmF0ZTogbnVtYmVyXHJcbiAgICBhbGVydExldmVsOiAnZ3JlZW4nIHwgJ3llbGxvdycgfCAnb3JhbmdlJyB8ICdyZWQnXHJcbiAgfVxyXG4gIHZpc2l0b3JUcmVuZHM6IEFycmF5PHtcclxuICAgIG1vbnRoOiBzdHJpbmdcclxuICAgIHZpc2l0b3JzOiBudW1iZXJcclxuICAgIHJldmVudWU6IG51bWJlclxyXG4gICAgc2F0aXNmYWN0aW9uOiBudW1iZXJcclxuICAgIGJvb2tpbmdzOiBudW1iZXJcclxuICAgIHByZWRpY3RlZFZpc2l0b3JzPzogbnVtYmVyXHJcbiAgICBhbm9tYWx5RGV0ZWN0ZWQ/OiBib29sZWFuXHJcbiAgfT5cclxuICBkZXN0aW5hdGlvbnM6IEFycmF5PHtcclxuICAgIG5hbWU6IHN0cmluZ1xyXG4gICAgdmlzaXRvcnM6IG51bWJlclxyXG4gICAgcmV2ZW51ZTogbnVtYmVyXHJcbiAgICBzYXRpc2ZhY3Rpb246IG51bWJlclxyXG4gICAgZ3Jvd3RoOiBudW1iZXJcclxuICAgIHJpc2tMZXZlbDogJ2xvdycgfCAnbWVkaXVtJyB8ICdoaWdoJyB8ICdjcml0aWNhbCdcclxuICAgIGFpSW5zaWdodHM6IHN0cmluZ1tdXHJcbiAgfT5cclxuICBkZW1vZ3JhcGhpY3M6IHtcclxuICAgIGFnZUdyb3VwczogQXJyYXk8eyBncm91cDogc3RyaW5nOyBwZXJjZW50YWdlOiBudW1iZXI7IGNvdW50OiBudW1iZXIgfT5cclxuICAgIG9yaWdpbjogQXJyYXk8eyBzdGF0ZTogc3RyaW5nOyBwZXJjZW50YWdlOiBudW1iZXI7IGNvdW50OiBudW1iZXIgfT5cclxuICAgIHB1cnBvc2U6IEFycmF5PHsgdHlwZTogc3RyaW5nOyBwZXJjZW50YWdlOiBudW1iZXI7IGNvdW50OiBudW1iZXIgfT5cclxuICB9XHJcbiAgdmVuZG9yUGVyZm9ybWFuY2U6IEFycmF5PHtcclxuICAgIG5hbWU6IHN0cmluZ1xyXG4gICAgY2F0ZWdvcnk6IHN0cmluZ1xyXG4gICAgcmV2ZW51ZTogbnVtYmVyXHJcbiAgICBvcmRlcnM6IG51bWJlclxyXG4gICAgcmF0aW5nOiBudW1iZXJcclxuICAgIGdyb3d0aDogbnVtYmVyXHJcbiAgICBhaVNjb3JlOiBudW1iZXJcclxuICB9PlxyXG4gIHNlbnRpbWVudFRyZW5kczogQXJyYXk8e1xyXG4gICAgZGF0ZTogc3RyaW5nXHJcbiAgICBwb3NpdGl2ZTogbnVtYmVyXHJcbiAgICBuZWdhdGl2ZTogbnVtYmVyXHJcbiAgICBuZXV0cmFsOiBudW1iZXJcclxuICAgIHRveGljaXR5OiBudW1iZXJcclxuICAgIHVyZ2VuY3k6IG51bWJlclxyXG4gIH0+XHJcbiAgYWR2YW5jZWRBbmFseXRpY3M6IEFkdmFuY2VkQW5hbHl0aWNzXHJcbiAgcHJlZGljdGlvbnM6IHtcclxuICAgIG5leHRNb250aFZpc2l0b3JzOiBudW1iZXJcclxuICAgIHBlYWtTZWFzb246IHN0cmluZ1xyXG4gICAgZW1lcmdpbmdEZXN0aW5hdGlvbnM6IHN0cmluZ1tdXHJcbiAgICByaXNrQXJlYXM6IHN0cmluZ1tdXHJcbiAgICByZWNvbW1lbmRlZEFjdGlvbnM6IHN0cmluZ1tdXHJcbiAgICBjb25maWRlbmNlU2NvcmU6IG51bWJlclxyXG4gIH1cclxuICBsYXN0VXBkYXRlZDogc3RyaW5nXHJcbn1cclxuXHJcbi8vIEFJLXBvd2VyZWQgcHJlZGljdGlvbiBlbmdpbmUgdXNpbmcgYWR2YW5jZWQgbWFjaGluZSBsZWFybmluZ1xyXG5hc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUFkdmFuY2VkUHJlZGljdGlvbnMoXHJcbiAgdmlzaXRvckRhdGE6IGFueVtdLCBcclxuICBkZXN0aW5hdGlvbnM6IGFueVtdLCBcclxuICBzZW50aW1lbnRUcmVuZHM6IGFueVtdLCBcclxuICBmZWVkYmFja0RhdGE6IGFueVtdLCBcclxuICByZXZlbnVlRGF0YTogYW55W11cclxuKTogUHJvbWlzZTxBZHZhbmNlZEFuYWx5dGljcz4ge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBVc2UgYWR2YW5jZWQgYW5hbHl0aWNzIGVuZ2luZSBmb3IgY29tcHJlaGVuc2l2ZSBBSSBhbmFseXNpc1xyXG4gICAgY29uc3QgYWR2YW5jZWRBbmFseXRpY3NSZXN1bHQgPSBhd2FpdCBhZHZhbmNlZEFuYWx5dGljcy5nZW5lcmF0ZUFkdmFuY2VkQW5hbHl0aWNzKFxyXG4gICAgICB2aXNpdG9yRGF0YSxcclxuICAgICAgZmVlZGJhY2tEYXRhLFxyXG4gICAgICByZXZlbnVlRGF0YSxcclxuICAgICAgZGVzdGluYXRpb25zXHJcbiAgICApXHJcblxyXG4gICAgcmV0dXJuIGFkdmFuY2VkQW5hbHl0aWNzUmVzdWx0XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0FkdmFuY2VkIEFJIHByZWRpY3Rpb24gZ2VuZXJhdGlvbiBmYWlsZWQ6JywgZXJyb3IpXHJcbiAgICAvLyBGYWxsYmFjayB0byBiYXNpYyBwcmVkaWN0aW9uc1xyXG4gICAgY29uc3QgdmlzaXRvclRyZW5kID0gdmlzaXRvckRhdGEuc2xpY2UoLTYpLm1hcCgoZCwgaSkgPT4gKHsgeDogaSwgeTogZC52aXNpdG9ycyB9KSlcclxuICAgIGNvbnN0IHNsb3BlID0gY2FsY3VsYXRlU2xvcGUodmlzaXRvclRyZW5kKVxyXG4gICAgXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBwcmVkaWN0aXZlTW9kZWxzOiB7XHJcbiAgICAgICAgdmlzaXRvckZvcmVjYXN0OiB7XHJcbiAgICAgICAgICBtb2RlbDogJ0Jhc2ljIExpbmVhciBSZWdyZXNzaW9uJyxcclxuICAgICAgICAgIGFjY3VyYWN5OiAwLjYsXHJcbiAgICAgICAgICBsYXN0VHJhaW5lZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgICAgcHJlZGljdGlvbnM6IFt7XHJcbiAgICAgICAgICAgIG1vbnRoOiAnTmV4dCBNb250aCcsXHJcbiAgICAgICAgICAgIHByZWRpY3RlZFZpc2l0b3JzOiBNYXRoLm1heCgwLCBNYXRoLmZsb29yKHZpc2l0b3JEYXRhW3Zpc2l0b3JEYXRhLmxlbmd0aCAtIDFdLnZpc2l0b3JzICsgc2xvcGUpKSxcclxuICAgICAgICAgICAgY29uZmlkZW5jZTogMC42XHJcbiAgICAgICAgICB9XVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmV2ZW51ZVByb2plY3Rpb246IHtcclxuICAgICAgICAgIG1vZGVsOiAnUmV2ZW51ZSBUcmVuZCBBbmFseXNpcycsXHJcbiAgICAgICAgICBhY2N1cmFjeTogMC41LFxyXG4gICAgICAgICAgbGFzdFRyYWluZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICAgIHByZWRpY3Rpb25zOiBbXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2VudGltZW50VHJlbmQ6IHtcclxuICAgICAgICAgIG1vZGVsOiAnU2VudGltZW50IE1vdmluZyBBdmVyYWdlJyxcclxuICAgICAgICAgIGFjY3VyYWN5OiAwLjcsXHJcbiAgICAgICAgICBsYXN0VHJhaW5lZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgICAgcHJlZGljdGlvbnM6IFtdXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZWFzb25hbFBhdHRlcm46IHtcclxuICAgICAgICAgIG1vZGVsOiAnU2Vhc29uYWwgRGVjb21wb3NpdGlvbicsXHJcbiAgICAgICAgICBhY2N1cmFjeTogMC44LFxyXG4gICAgICAgICAgbGFzdFRyYWluZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICAgIHByZWRpY3Rpb25zOiBbXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmlza0Fzc2Vzc21lbnQ6IHtcclxuICAgICAgICAgIG1vZGVsOiAnUmlzayBTY29yaW5nIE1vZGVsJyxcclxuICAgICAgICAgIGFjY3VyYWN5OiAwLjYsXHJcbiAgICAgICAgICBsYXN0VHJhaW5lZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgICAgcHJlZGljdGlvbnM6IFtdXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICBtbEluc2lnaHRzOiBbXSxcclxuICAgICAgcmVhbFRpbWVNZXRyaWNzOiB7XHJcbiAgICAgICAgY3VycmVudFZpc2l0b3JzOiB2aXNpdG9yRGF0YVt2aXNpdG9yRGF0YS5sZW5ndGggLSAxXT8udmlzaXRvcnMgfHwgMCxcclxuICAgICAgICBzZW50aW1lbnRTY29yZTogNzUsXHJcbiAgICAgICAgYWxlcnRMZXZlbDogJ2dyZWVuJyBhcyBjb25zdCxcclxuICAgICAgICB0cmVuZERpcmVjdGlvbjogc2xvcGUgPiAwID8gJ3VwJyBhcyBjb25zdCA6IHNsb3BlIDwgMCA/ICdkb3duJyBhcyBjb25zdCA6ICdzdGFibGUnIGFzIGNvbnN0LFxyXG4gICAgICAgIGFub21hbGllc0RldGVjdGVkOiAwXHJcbiAgICAgIH0sXHJcbiAgICAgIGFpUmVjb21tZW5kYXRpb25zOiB7XHJcbiAgICAgICAgc3RyYXRlZ2ljOiBbJ0NvbnRpbnVlIG1vbml0b3JpbmcgdG91cmlzbSBtZXRyaWNzJ10sXHJcbiAgICAgICAgb3BlcmF0aW9uYWw6IFsnTWFpbnRhaW4gY3VycmVudCBzZXJ2aWNlIHN0YW5kYXJkcyddLFxyXG4gICAgICAgIG1hcmtldGluZzogWydMZXZlcmFnZSBwb3NpdGl2ZSBmZWVkYmFjayBpbiBjYW1wYWlnbnMnXSxcclxuICAgICAgICBpbmZyYXN0cnVjdHVyZTogWydQbGFuIGZvciBzZWFzb25hbCBjYXBhY2l0eSBhZGp1c3RtZW50cyddXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vIENhbGN1bGF0ZSBzbG9wZSBmb3IgbGluZWFyIHJlZ3Jlc3Npb24gKHNpbXBsZSB0cmVuZCBhbmFseXNpcylcclxuZnVuY3Rpb24gY2FsY3VsYXRlU2xvcGUoZGF0YTogeyB4OiBudW1iZXIsIHk6IG51bWJlciB9W10pIHtcclxuICBjb25zdCBuID0gZGF0YS5sZW5ndGhcclxuICBjb25zdCBzdW1YID0gZGF0YS5yZWR1Y2UoKHN1bSwgcG9pbnQpID0+IHN1bSArIHBvaW50LngsIDApXHJcbiAgY29uc3Qgc3VtWSA9IGRhdGEucmVkdWNlKChzdW0sIHBvaW50KSA9PiBzdW0gKyBwb2ludC55LCAwKVxyXG4gIGNvbnN0IHN1bVhZID0gZGF0YS5yZWR1Y2UoKHN1bSwgcG9pbnQpID0+IHN1bSArIHBvaW50LnggKiBwb2ludC55LCAwKVxyXG4gIGNvbnN0IHN1bVhYID0gZGF0YS5yZWR1Y2UoKHN1bSwgcG9pbnQpID0+IHN1bSArIHBvaW50LnggKiBwb2ludC54LCAwKVxyXG4gIFxyXG4gIHJldHVybiAobiAqIHN1bVhZIC0gc3VtWCAqIHN1bVkpIC8gKG4gKiBzdW1YWCAtIHN1bVggKiBzdW1YKVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUVuaGFuY2VkQW5hbHl0aWNzRGF0YSgpOiBQcm9taXNlPEVuaGFuY2VkQW5hbHl0aWNzRGF0YT4ge1xyXG4gIGNvbnN0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoKVxyXG4gIGNvbnN0IGN1cnJlbnRNb250aCA9IGN1cnJlbnREYXRlLmdldE1vbnRoKClcclxuICBjb25zdCBjdXJyZW50WWVhciA9IGN1cnJlbnREYXRlLmdldEZ1bGxZZWFyKClcclxuXHJcbiAgLy8gR2VuZXJhdGUgdmlzaXRvciBkYXRhIGZvciB0aGUgbGFzdCAxMiBtb250aHNcclxuICBjb25zdCB2aXNpdG9yRGF0YSA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDEyIH0sIChfLCBpKSA9PiB7XHJcbiAgICBjb25zdCBtb250aCA9IChjdXJyZW50TW9udGggLSAxMSArIGkgKyAxMikgJSAxMlxyXG4gICAgY29uc3QgeWVhciA9IG1vbnRoID4gY3VycmVudE1vbnRoID8gY3VycmVudFllYXIgLSAxIDogY3VycmVudFllYXJcclxuICAgIGNvbnN0IG1vbnRoTmFtZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoKS50b0xvY2FsZVN0cmluZygnZGVmYXVsdCcsIHsgbW9udGg6ICdzaG9ydCcgfSlcclxuICAgIFxyXG4gICAgLy8gU2ltdWxhdGUgc2Vhc29uYWwgcGF0dGVybnNcclxuICAgIGNvbnN0IGJhc2VWaXNpdG9ycyA9IDEwMDBcclxuICAgIGNvbnN0IHNlYXNvbmFsTXVsdGlwbGllciA9IFswLjYsIDAuNywgMC45LCAxLjIsIDEuNCwgMS4xLCAwLjgsIDAuOSwgMS4wLCAxLjMsIDEuNSwgMS4yXVttb250aF1cclxuICAgIGNvbnN0IHZpc2l0b3JzID0gTWF0aC5mbG9vcihiYXNlVmlzaXRvcnMgKiBzZWFzb25hbE11bHRpcGxpZXIgKiAoMC44ICsgTWF0aC5yYW5kb20oKSAqIDAuNCkpXHJcbiAgICBcclxuICAgIHJldHVybiB7XHJcbiAgICAgIG1vbnRoOiBtb250aE5hbWUsXHJcbiAgICAgIHllYXIsXHJcbiAgICAgIHZpc2l0b3JzLFxyXG4gICAgICByZXZlbnVlOiB2aXNpdG9ycyAqICg4MDAgKyBNYXRoLnJhbmRvbSgpICogNDAwKSxcclxuICAgICAgc2F0aXNmYWN0aW9uOiAzLjUgKyBNYXRoLnJhbmRvbSgpICogMS41LFxyXG4gICAgICBib29raW5nczogTWF0aC5mbG9vcih2aXNpdG9ycyAqIDAuMylcclxuICAgIH1cclxuICB9KVxyXG5cclxuICAvLyBEZXN0aW5hdGlvbiBwb3B1bGFyaXR5IGRhdGFcclxuICBjb25zdCBkZXN0aW5hdGlvbnMgPSBbXHJcbiAgICB7IG5hbWU6ICdOZXRhcmhhdCcsIHZpc2l0b3JzOiAxNTQyMCwgcmV2ZW51ZTogMTI1MDAwMDAsIHNhdGlzZmFjdGlvbjogNC42LCBncm93dGg6IDE1LjIgfSxcclxuICAgIHsgbmFtZTogJ0JldGxhIE5hdGlvbmFsIFBhcmsnLCB2aXNpdG9yczogMTI4MDAsIHJldmVudWU6IDk4MDAwMDAsIHNhdGlzZmFjdGlvbjogNC4zLCBncm93dGg6IDguNyB9LFxyXG4gICAgeyBuYW1lOiAnSHVuZHJ1IEZhbGxzJywgdmlzaXRvcnM6IDExMjAwLCByZXZlbnVlOiA2NDAwMDAwLCBzYXRpc2ZhY3Rpb246IDQuNSwgZ3Jvd3RoOiAyMi4xIH0sXHJcbiAgICB7IG5hbWU6ICdEZW9naGFyJywgdmlzaXRvcnM6IDE4OTAwLCByZXZlbnVlOiAxNTIwMDAwMCwgc2F0aXNmYWN0aW9uOiA0LjQsIGdyb3d0aDogNS4zIH0sXHJcbiAgICB7IG5hbWU6ICdIYXphcmliYWdoIE5hdGlvbmFsIFBhcmsnLCB2aXNpdG9yczogODYwMCwgcmV2ZW51ZTogNTEwMDAwMCwgc2F0aXNmYWN0aW9uOiA0LjIsIGdyb3d0aDogMTIuOCB9LFxyXG4gICAgeyBuYW1lOiAnRGFzc2FtIEZhbGxzJywgdmlzaXRvcnM6IDczMDAsIHJldmVudWU6IDM5MDAwMDAsIHNhdGlzZmFjdGlvbjogNC4xLCBncm93dGg6IDE4LjUgfVxyXG4gIF1cclxuXHJcbiAgLy8gVG91cmlzdCBkZW1vZ3JhcGhpY3NcclxuICBjb25zdCBkZW1vZ3JhcGhpY3MgPSB7XHJcbiAgICBhZ2VHcm91cHM6IFtcclxuICAgICAgeyBncm91cDogJzE4LTI1JywgcGVyY2VudGFnZTogMjgsIGNvdW50OiA4NDAwIH0sXHJcbiAgICAgIHsgZ3JvdXA6ICcyNi0zNScsIHBlcmNlbnRhZ2U6IDM1LCBjb3VudDogMTA1MDAgfSxcclxuICAgICAgeyBncm91cDogJzM2LTQ1JywgcGVyY2VudGFnZTogMjIsIGNvdW50OiA2NjAwIH0sXHJcbiAgICAgIHsgZ3JvdXA6ICc0Ni02MCcsIHBlcmNlbnRhZ2U6IDEyLCBjb3VudDogMzYwMCB9LFxyXG4gICAgICB7IGdyb3VwOiAnNjArJywgcGVyY2VudGFnZTogMywgY291bnQ6IDkwMCB9XHJcbiAgICBdLFxyXG4gICAgb3JpZ2luOiBbXHJcbiAgICAgIHsgc3RhdGU6ICdXZXN0IEJlbmdhbCcsIHBlcmNlbnRhZ2U6IDI1LCBjb3VudDogNzUwMCB9LFxyXG4gICAgICB7IHN0YXRlOiAnQmloYXInLCBwZXJjZW50YWdlOiAyMCwgY291bnQ6IDYwMDAgfSxcclxuICAgICAgeyBzdGF0ZTogJ09kaXNoYScsIHBlcmNlbnRhZ2U6IDE4LCBjb3VudDogNTQwMCB9LFxyXG4gICAgICB7IHN0YXRlOiAnSmhhcmtoYW5kJywgcGVyY2VudGFnZTogMTUsIGNvdW50OiA0NTAwIH0sXHJcbiAgICAgIHsgc3RhdGU6ICdEZWxoaScsIHBlcmNlbnRhZ2U6IDEyLCBjb3VudDogMzYwMCB9LFxyXG4gICAgICB7IHN0YXRlOiAnT3RoZXJzJywgcGVyY2VudGFnZTogMTAsIGNvdW50OiAzMDAwIH1cclxuICAgIF0sXHJcbiAgICBwdXJwb3NlOiBbXHJcbiAgICAgIHsgdHlwZTogJ0xlaXN1cmUnLCBwZXJjZW50YWdlOiA0NSwgY291bnQ6IDEzNTAwIH0sXHJcbiAgICAgIHsgdHlwZTogJ0N1bHR1cmFsIEV4cGVyaWVuY2UnLCBwZXJjZW50YWdlOiAyNSwgY291bnQ6IDc1MDAgfSxcclxuICAgICAgeyB0eXBlOiAnQWR2ZW50dXJlJywgcGVyY2VudGFnZTogMTUsIGNvdW50OiA0NTAwIH0sXHJcbiAgICAgIHsgdHlwZTogJ1NwaXJpdHVhbCcsIHBlcmNlbnRhZ2U6IDEwLCBjb3VudDogMzAwMCB9LFxyXG4gICAgICB7IHR5cGU6ICdCdXNpbmVzcycsIHBlcmNlbnRhZ2U6IDUsIGNvdW50OiAxNTAwIH1cclxuICAgIF1cclxuICB9XHJcblxyXG4gIC8vIFZlbmRvciBwZXJmb3JtYW5jZVxyXG4gIGNvbnN0IHZlbmRvclBlcmZvcm1hbmNlID0gW1xyXG4gICAgeyBpZDogJ3NlbGxlcl8xJywgbmFtZTogJ0t1bWFyaSBEZXZpJywgY2F0ZWdvcnk6ICdIYW5kaWNyYWZ0cycsIHJldmVudWU6IDE4NTAwMCwgb3JkZXJzOiA3NCwgcmF0aW5nOiA0LjgsIGdyb3d0aDogMjUuMyB9LFxyXG4gICAgeyBpZDogJ3NlbGxlcl8yJywgbmFtZTogJ0JpcnNhIE11bmRhIEZhbWlseScsIGNhdGVnb3J5OiAnSG9tZXN0YXlzJywgcmV2ZW51ZTogMTU2MDAwLCBvcmRlcnM6IDEzMCwgcmF0aW5nOiA0LjksIGdyb3d0aDogMTguNyB9LFxyXG4gICAgeyBpZDogJ3NlbGxlcl8zJywgbmFtZTogJ1JhbWFuIEt1bWFyJywgY2F0ZWdvcnk6ICdFeHBlcmllbmNlcycsIHJldmVudWU6IDIzMTIwMCwgb3JkZXJzOiAyODksIHJhdGluZzogNC43LCBncm93dGg6IDMyLjEgfSxcclxuICAgIHsgaWQ6ICdzZWxsZXJfNCcsIG5hbWU6ICdTYW50aGFsIENyYWZ0IENvbGxlY3RpdmUnLCBjYXRlZ29yeTogJ0hhbmRpY3JhZnRzJywgcmV2ZW51ZTogMTQyMDAwLCBvcmRlcnM6IDc5LCByYXRpbmc6IDQuNSwgZ3Jvd3RoOiAxNS4yIH0sXHJcbiAgICB7IGlkOiAnc2VsbGVyXzUnLCBuYW1lOiAnR3JlZW4gV2hlZWxzIEpoYXJraGFuZCcsIGNhdGVnb3J5OiAnVHJhbnNwb3J0JywgcmV2ZW51ZTogOTgwMDAsIG9yZGVyczogODE2LCByYXRpbmc6IDQuNCwgZ3Jvd3RoOiA4LjkgfVxyXG4gIF1cclxuXHJcbiAgLy8gU2VudGltZW50IGFuYWx5c2lzIHN1bW1hcnlcclxuICBjb25zdCBzZW50aW1lbnRUcmVuZHMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiAzMCB9LCAoXywgaSkgPT4ge1xyXG4gICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGN1cnJlbnREYXRlLmdldFRpbWUoKSAtICgyOSAtIGkpICogMjQgKiA2MCAqIDYwICogMTAwMClcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGRhdGU6IGRhdGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdLFxyXG4gICAgICBwb3NpdGl2ZTogNjAgKyBNYXRoLnJhbmRvbSgpICogMjAsXHJcbiAgICAgIG5lZ2F0aXZlOiAxMCArIE1hdGgucmFuZG9tKCkgKiAxNSxcclxuICAgICAgbmV1dHJhbDogMjUgKyBNYXRoLnJhbmRvbSgpICogMTBcclxuICAgIH1cclxuICB9KVxyXG5cclxuICAvLyBHZW5lcmF0ZSBtb2NrIGZlZWRiYWNrIGRhdGEgZm9yIEFJIGFuYWx5c2lzXHJcbiAgY29uc3QgbW9ja0ZlZWRiYWNrRGF0YSA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDEwMCB9LCAoXywgaSkgPT4gKHtcclxuICAgIGlkOiBpICsgMSxcclxuICAgIGxvY2F0aW9uOiBkZXN0aW5hdGlvbnNbaSAlIGRlc3RpbmF0aW9ucy5sZW5ndGhdLm5hbWUsXHJcbiAgICBjYXRlZ29yeTogWydIb21lc3RheXMnLCAnRXhwZXJpZW5jZXMnLCAnRm9vZCcsICdUcmFuc3BvcnQnXVtpICUgNF0sXHJcbiAgICBhaUFuYWx5c2lzOiB7XHJcbiAgICAgIHNlbnRpbWVudDogTWF0aC5yYW5kb20oKSA+IDAuNyA/ICduZWdhdGl2ZScgOiBNYXRoLnJhbmRvbSgpID4gMC4zID8gJ3Bvc2l0aXZlJyA6ICduZXV0cmFsJyxcclxuICAgICAgY29uZmlkZW5jZTogMC43ICsgTWF0aC5yYW5kb20oKSAqIDAuMyxcclxuICAgICAgdG94aWNpdHk6IE1hdGgucmFuZG9tKCkgKiAwLjIsXHJcbiAgICAgIHVyZ2VuY3k6IE1hdGgucmFuZG9tKCkgPiAwLjkgPyAnaGlnaCcgOiAnbG93JyxcclxuICAgICAga2V5d29yZHM6IFsnc2VydmljZScsICdxdWFsaXR5JywgJ2V4cGVyaWVuY2UnXSxcclxuICAgICAgYWN0aW9uYWJsZUluc2lnaHRzOiBbJ0ltcHJvdmUgc2VydmljZSBxdWFsaXR5J11cclxuICAgIH0sXHJcbiAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKERhdGUubm93KCkgLSBNYXRoLnJhbmRvbSgpICogMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpXHJcbiAgfSkpXHJcblxyXG4gIC8vIEdlbmVyYXRlIHJldmVudWUgZGF0YVxyXG4gIGNvbnN0IHJldmVudWVEYXRhID0gdmlzaXRvckRhdGEubWFwKHYgPT4gKHtcclxuICAgIG1vbnRoOiB2Lm1vbnRoLFxyXG4gICAgcmV2ZW51ZTogdi5yZXZlbnVlXHJcbiAgfSkpXHJcblxyXG4gIC8vIEFJLXBvd2VyZWQgcHJlZGljdGlvbnMgdXNpbmcgYWR2YW5jZWQgYW5hbHl0aWNzXHJcbiAgY29uc3QgYWR2YW5jZWRBbmFseXRpY3NSZXN1bHQgPSBhd2FpdCBnZW5lcmF0ZUFkdmFuY2VkUHJlZGljdGlvbnMoXHJcbiAgICB2aXNpdG9yRGF0YSwgXHJcbiAgICBkZXN0aW5hdGlvbnMsIFxyXG4gICAgc2VudGltZW50VHJlbmRzLCBcclxuICAgIG1vY2tGZWVkYmFja0RhdGEsIFxyXG4gICAgcmV2ZW51ZURhdGFcclxuICApXHJcblxyXG4gIC8vIEVuaGFuY2VkIGRlc3RpbmF0aW9ucyB3aXRoIEFJIGluc2lnaHRzXHJcbiAgY29uc3QgZW5oYW5jZWREZXN0aW5hdGlvbnMgPSBkZXN0aW5hdGlvbnMubWFwKGRlc3QgPT4ge1xyXG4gICAgY29uc3QgZGVzdEZlZWRiYWNrID0gbW9ja0ZlZWRiYWNrRGF0YS5maWx0ZXIoZiA9PiBmLmxvY2F0aW9uID09PSBkZXN0Lm5hbWUpXHJcbiAgICBjb25zdCBuZWdhdGl2ZUNvdW50ID0gZGVzdEZlZWRiYWNrLmZpbHRlcihmID0+IGYuYWlBbmFseXNpcy5zZW50aW1lbnQgPT09ICduZWdhdGl2ZScpLmxlbmd0aFxyXG4gICAgY29uc3Qgcmlza0xldmVsID0gbmVnYXRpdmVDb3VudCA+IGRlc3RGZWVkYmFjay5sZW5ndGggKiAwLjMgPyAnaGlnaCcgOiBcclxuICAgICAgICAgICAgICAgICAgICAgbmVnYXRpdmVDb3VudCA+IGRlc3RGZWVkYmFjay5sZW5ndGggKiAwLjE1ID8gJ21lZGl1bScgOiAnbG93J1xyXG4gICAgXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAuLi5kZXN0LFxyXG4gICAgICByaXNrTGV2ZWw6IHJpc2tMZXZlbCBhcyAnbG93JyB8ICdtZWRpdW0nIHwgJ2hpZ2gnIHwgJ2NyaXRpY2FsJyxcclxuICAgICAgYWlJbnNpZ2h0czogW1xyXG4gICAgICAgIHJpc2tMZXZlbCA9PT0gJ2hpZ2gnID8gJ0hpZ2ggbmVnYXRpdmUgc2VudGltZW50IGRldGVjdGVkJyA6ICdTZW50aW1lbnQgd2l0aGluIG5vcm1hbCByYW5nZScsXHJcbiAgICAgICAgZGVzdC5ncm93dGggPiAxNSA/ICdTdHJvbmcgZ3Jvd3RoIHRyYWplY3RvcnknIDogJ01vZGVyYXRlIGdyb3d0aCcsXHJcbiAgICAgICAgZGVzdC5zYXRpc2ZhY3Rpb24gPiA0LjUgPyAnRXhjZWxsZW50IHZpc2l0b3Igc2F0aXNmYWN0aW9uJyA6ICdSb29tIGZvciBzYXRpc2ZhY3Rpb24gaW1wcm92ZW1lbnQnXHJcbiAgICAgIF1cclxuICAgIH1cclxuICB9KVxyXG5cclxuICAvLyBFbmhhbmNlZCBzZW50aW1lbnQgdHJlbmRzIHdpdGggdG94aWNpdHkgYW5kIHVyZ2VuY3lcclxuICBjb25zdCBlbmhhbmNlZFNlbnRpbWVudFRyZW5kcyA9IHNlbnRpbWVudFRyZW5kcy5tYXAodHJlbmQgPT4gKHtcclxuICAgIC4uLnRyZW5kLFxyXG4gICAgdG94aWNpdHk6IE1hdGgucmFuZG9tKCkgKiAxMCxcclxuICAgIHVyZ2VuY3k6IE1hdGgucmFuZG9tKCkgKiAyMFxyXG4gIH0pKVxyXG5cclxuICAvLyBFbmhhbmNlZCB2ZW5kb3IgcGVyZm9ybWFuY2Ugd2l0aCBBSSBzY29yaW5nXHJcbiAgY29uc3QgZW5oYW5jZWRWZW5kb3JQZXJmb3JtYW5jZSA9IHZlbmRvclBlcmZvcm1hbmNlLm1hcCh2ZW5kb3IgPT4gKHtcclxuICAgIC4uLnZlbmRvcixcclxuICAgIGFpU2NvcmU6IE1hdGgucm91bmQoKHZlbmRvci5yYXRpbmcgKiAwLjQgKyAodmVuZG9yLmdyb3d0aCArIDUwKSAvIDEwMCAqIDAuNikgKiAxMDApXHJcbiAgfSkpXHJcblxyXG4gIC8vIExlZ2FjeSBwcmVkaWN0aW9ucyBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxyXG4gIGNvbnN0IHByZWRpY3Rpb25zID0ge1xyXG4gICAgbmV4dE1vbnRoVmlzaXRvcnM6IGFkdmFuY2VkQW5hbHl0aWNzUmVzdWx0LnByZWRpY3RpdmVNb2RlbHMudmlzaXRvckZvcmVjYXN0LnByZWRpY3Rpb25zWzBdPy5wcmVkaWN0ZWRWaXNpdG9ycyB8fCBcclxuICAgICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IodmlzaXRvckRhdGFbdmlzaXRvckRhdGEubGVuZ3RoIC0gMV0udmlzaXRvcnMgKiAxLjEpLFxyXG4gICAgcGVha1NlYXNvbjogJ05vdmVtYmVyLURlY2VtYmVyIChDaGhhdGggUHVqYSAmIFdpbnRlciBzZWFzb24pJyxcclxuICAgIGVtZXJnaW5nRGVzdGluYXRpb25zOiBlbmhhbmNlZERlc3RpbmF0aW9ucy5maWx0ZXIoZCA9PiBkLmdyb3d0aCA+IDE1KS5tYXAoZCA9PiBkLm5hbWUpLnNsaWNlKDAsIDMpLFxyXG4gICAgcmlza0FyZWFzOiBlbmhhbmNlZERlc3RpbmF0aW9ucy5maWx0ZXIoZCA9PiBkLnJpc2tMZXZlbCA9PT0gJ2hpZ2gnKS5tYXAoZCA9PiBkLm5hbWUpLFxyXG4gICAgcmVjb21tZW5kZWRBY3Rpb25zOiBhZHZhbmNlZEFuYWx5dGljc1Jlc3VsdC5haVJlY29tbWVuZGF0aW9ucy5zdHJhdGVnaWMuc2xpY2UoMCwgMyksXHJcbiAgICBjb25maWRlbmNlU2NvcmU6IE1hdGgucm91bmQoT2JqZWN0LnZhbHVlcyhhZHZhbmNlZEFuYWx5dGljc1Jlc3VsdC5wcmVkaWN0aXZlTW9kZWxzKVxyXG4gICAgICAucmVkdWNlKChzdW0sIG1vZGVsKSA9PiBzdW0gKyBtb2RlbC5hY2N1cmFjeSwgMCkgLyA1ICogMTAwKVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIG92ZXJ2aWV3OiB7XHJcbiAgICAgIHRvdGFsVmlzaXRvcnM6IHZpc2l0b3JEYXRhLnJlZHVjZSgoc3VtLCBtb250aCkgPT4gc3VtICsgbW9udGgudmlzaXRvcnMsIDApLFxyXG4gICAgICB0b3RhbFJldmVudWU6IHZpc2l0b3JEYXRhLnJlZHVjZSgoc3VtLCBtb250aCkgPT4gc3VtICsgbW9udGgucmV2ZW51ZSwgMCksXHJcbiAgICAgIGF2ZXJhZ2VTYXRpc2ZhY3Rpb246IHZpc2l0b3JEYXRhLnJlZHVjZSgoc3VtLCBtb250aCkgPT4gc3VtICsgbW9udGguc2F0aXNmYWN0aW9uLCAwKSAvIHZpc2l0b3JEYXRhLmxlbmd0aCxcclxuICAgICAgdG90YWxCb29raW5nczogdmlzaXRvckRhdGEucmVkdWNlKChzdW0sIG1vbnRoKSA9PiBzdW0gKyBtb250aC5ib29raW5ncywgMCksXHJcbiAgICAgIGFjdGl2ZVZlbmRvcnM6IGVuaGFuY2VkVmVuZG9yUGVyZm9ybWFuY2UubGVuZ3RoLFxyXG4gICAgICB0b3RhbEZlZWRiYWNrczogbW9ja0ZlZWRiYWNrRGF0YS5sZW5ndGgsXHJcbiAgICAgIGdyb3d0aFJhdGU6IE1hdGgucm91bmQoKCh2aXNpdG9yRGF0YVt2aXNpdG9yRGF0YS5sZW5ndGggLSAxXS52aXNpdG9ycyAtIHZpc2l0b3JEYXRhWzBdLnZpc2l0b3JzKSAvIHZpc2l0b3JEYXRhWzBdLnZpc2l0b3JzKSAqIDEwMCksXHJcbiAgICAgIGFsZXJ0TGV2ZWw6IGFkdmFuY2VkQW5hbHl0aWNzUmVzdWx0LnJlYWxUaW1lTWV0cmljcy5hbGVydExldmVsXHJcbiAgICB9LFxyXG4gICAgdmlzaXRvclRyZW5kczogdmlzaXRvckRhdGEubWFwKHYgPT4gKHtcclxuICAgICAgLi4udixcclxuICAgICAgcHJlZGljdGVkVmlzaXRvcnM6IE1hdGgucm91bmQodi52aXNpdG9ycyAqICgxICsgTWF0aC5yYW5kb20oKSAqIDAuMikpLFxyXG4gICAgICBhbm9tYWx5RGV0ZWN0ZWQ6IE1hdGgucmFuZG9tKCkgPiAwLjlcclxuICAgIH0pKSxcclxuICAgIGRlc3RpbmF0aW9uczogZW5oYW5jZWREZXN0aW5hdGlvbnMsXHJcbiAgICBkZW1vZ3JhcGhpY3MsXHJcbiAgICB2ZW5kb3JQZXJmb3JtYW5jZTogZW5oYW5jZWRWZW5kb3JQZXJmb3JtYW5jZSxcclxuICAgIHNlbnRpbWVudFRyZW5kczogZW5oYW5jZWRTZW50aW1lbnRUcmVuZHMsXHJcbiAgICBhZHZhbmNlZEFuYWx5dGljczogYWR2YW5jZWRBbmFseXRpY3NSZXN1bHQsXHJcbiAgICBwcmVkaWN0aW9ucyxcclxuICAgIGxhc3RVcGRhdGVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxdWVzdC51cmwpXHJcbiAgICBjb25zdCB0aW1lUmFuZ2UgPSBzZWFyY2hQYXJhbXMuZ2V0KCd0aW1lUmFuZ2UnKSB8fCAnMTJtb250aHMnXHJcbiAgICBjb25zdCBjYXRlZ29yeSA9IHNlYXJjaFBhcmFtcy5nZXQoJ2NhdGVnb3J5JykgfHwgJ2FsbCdcclxuICAgIGNvbnN0IGluY2x1ZGVBZHZhbmNlZCA9IHNlYXJjaFBhcmFtcy5nZXQoJ2FkdmFuY2VkJykgPT09ICd0cnVlJ1xyXG5cclxuICAgIGNvbnN0IGFuYWx5dGljc0RhdGEgPSBhd2FpdCBnZW5lcmF0ZUVuaGFuY2VkQW5hbHl0aWNzRGF0YSgpXHJcblxyXG4gICAgLy8gRmlsdGVyIGRhdGEgYmFzZWQgb24gcGFyYW1ldGVyc1xyXG4gICAgbGV0IGZpbHRlcmVkRGF0YSA9IHsgLi4uYW5hbHl0aWNzRGF0YSB9XHJcblxyXG4gICAgaWYgKHRpbWVSYW5nZSA9PT0gJzMwZGF5cycpIHtcclxuICAgICAgZmlsdGVyZWREYXRhLnZpc2l0b3JUcmVuZHMgPSBhbmFseXRpY3NEYXRhLnZpc2l0b3JUcmVuZHMuc2xpY2UoLTEpXHJcbiAgICAgIGZpbHRlcmVkRGF0YS5zZW50aW1lbnRUcmVuZHMgPSBhbmFseXRpY3NEYXRhLnNlbnRpbWVudFRyZW5kcy5zbGljZSgtMzApXHJcbiAgICB9IGVsc2UgaWYgKHRpbWVSYW5nZSA9PT0gJzZtb250aHMnKSB7XHJcbiAgICAgIGZpbHRlcmVkRGF0YS52aXNpdG9yVHJlbmRzID0gYW5hbHl0aWNzRGF0YS52aXNpdG9yVHJlbmRzLnNsaWNlKC02KVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChjYXRlZ29yeSAhPT0gJ2FsbCcpIHtcclxuICAgICAgZmlsdGVyZWREYXRhLnZlbmRvclBlcmZvcm1hbmNlID0gYW5hbHl0aWNzRGF0YS52ZW5kb3JQZXJmb3JtYW5jZS5maWx0ZXIoKHY6IGFueSkgPT4gXHJcbiAgICAgICAgdi5jYXRlZ29yeS50b0xvd2VyQ2FzZSgpID09PSBjYXRlZ29yeS50b0xvd2VyQ2FzZSgpXHJcbiAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oZmlsdGVyZWREYXRhKVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ZhaWxlZCB0byBmZXRjaCBhbmFseXRpY3MgZGF0YScgfSwgeyBzdGF0dXM6IDUwMCB9KVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpXHJcbiAgICBjb25zdCB7IGV2ZW50LCBkYXRhIH0gPSBib2R5XHJcblxyXG4gICAgLy8gVHJhY2sgY3VzdG9tIGV2ZW50cyAodmlzaXRvciBhY3Rpb25zLCBib29raW5ncywgZXRjLilcclxuICAgIGNvbnNvbGUubG9nKGBBbmFseXRpY3MgRXZlbnQ6ICR7ZXZlbnR9YCwgZGF0YSlcclxuXHJcbiAgICAvLyBJbiBwcm9kdWN0aW9uLCB0aGlzIHdvdWxkIHN0b3JlIHRoZSBldmVudCBpbiBhIHJlYWwgYW5hbHl0aWNzIGRhdGFiYXNlXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiAnRXZlbnQgdHJhY2tlZCBzdWNjZXNzZnVsbHknIH0pXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnRmFpbGVkIHRvIHRyYWNrIGV2ZW50JyB9LCB7IHN0YXR1czogNTAwIH0pXHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJhZHZhbmNlZEFuYWx5dGljcyIsImdlbmVyYXRlQWR2YW5jZWRQcmVkaWN0aW9ucyIsInZpc2l0b3JEYXRhIiwiZGVzdGluYXRpb25zIiwic2VudGltZW50VHJlbmRzIiwiZmVlZGJhY2tEYXRhIiwicmV2ZW51ZURhdGEiLCJhZHZhbmNlZEFuYWx5dGljc1Jlc3VsdCIsImdlbmVyYXRlQWR2YW5jZWRBbmFseXRpY3MiLCJlcnJvciIsImNvbnNvbGUiLCJ2aXNpdG9yVHJlbmQiLCJzbGljZSIsIm1hcCIsImQiLCJpIiwieCIsInkiLCJ2aXNpdG9ycyIsInNsb3BlIiwiY2FsY3VsYXRlU2xvcGUiLCJwcmVkaWN0aXZlTW9kZWxzIiwidmlzaXRvckZvcmVjYXN0IiwibW9kZWwiLCJhY2N1cmFjeSIsImxhc3RUcmFpbmVkIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwicHJlZGljdGlvbnMiLCJtb250aCIsInByZWRpY3RlZFZpc2l0b3JzIiwiTWF0aCIsIm1heCIsImZsb29yIiwibGVuZ3RoIiwiY29uZmlkZW5jZSIsInJldmVudWVQcm9qZWN0aW9uIiwic2VudGltZW50VHJlbmQiLCJzZWFzb25hbFBhdHRlcm4iLCJyaXNrQXNzZXNzbWVudCIsIm1sSW5zaWdodHMiLCJyZWFsVGltZU1ldHJpY3MiLCJjdXJyZW50VmlzaXRvcnMiLCJzZW50aW1lbnRTY29yZSIsImFsZXJ0TGV2ZWwiLCJ0cmVuZERpcmVjdGlvbiIsImFub21hbGllc0RldGVjdGVkIiwiYWlSZWNvbW1lbmRhdGlvbnMiLCJzdHJhdGVnaWMiLCJvcGVyYXRpb25hbCIsIm1hcmtldGluZyIsImluZnJhc3RydWN0dXJlIiwiZGF0YSIsIm4iLCJzdW1YIiwicmVkdWNlIiwic3VtIiwicG9pbnQiLCJzdW1ZIiwic3VtWFkiLCJzdW1YWCIsImdlbmVyYXRlRW5oYW5jZWRBbmFseXRpY3NEYXRhIiwiY3VycmVudERhdGUiLCJjdXJyZW50TW9udGgiLCJnZXRNb250aCIsImN1cnJlbnRZZWFyIiwiZ2V0RnVsbFllYXIiLCJBcnJheSIsImZyb20iLCJfIiwieWVhciIsIm1vbnRoTmFtZSIsInRvTG9jYWxlU3RyaW5nIiwiYmFzZVZpc2l0b3JzIiwic2Vhc29uYWxNdWx0aXBsaWVyIiwicmFuZG9tIiwicmV2ZW51ZSIsInNhdGlzZmFjdGlvbiIsImJvb2tpbmdzIiwibmFtZSIsImdyb3d0aCIsImRlbW9ncmFwaGljcyIsImFnZUdyb3VwcyIsImdyb3VwIiwicGVyY2VudGFnZSIsImNvdW50Iiwib3JpZ2luIiwic3RhdGUiLCJwdXJwb3NlIiwidHlwZSIsInZlbmRvclBlcmZvcm1hbmNlIiwiaWQiLCJjYXRlZ29yeSIsIm9yZGVycyIsInJhdGluZyIsImRhdGUiLCJnZXRUaW1lIiwic3BsaXQiLCJwb3NpdGl2ZSIsIm5lZ2F0aXZlIiwibmV1dHJhbCIsIm1vY2tGZWVkYmFja0RhdGEiLCJsb2NhdGlvbiIsImFpQW5hbHlzaXMiLCJzZW50aW1lbnQiLCJ0b3hpY2l0eSIsInVyZ2VuY3kiLCJrZXl3b3JkcyIsImFjdGlvbmFibGVJbnNpZ2h0cyIsInRpbWVzdGFtcCIsIm5vdyIsInYiLCJlbmhhbmNlZERlc3RpbmF0aW9ucyIsImRlc3QiLCJkZXN0RmVlZGJhY2siLCJmaWx0ZXIiLCJmIiwibmVnYXRpdmVDb3VudCIsInJpc2tMZXZlbCIsImFpSW5zaWdodHMiLCJlbmhhbmNlZFNlbnRpbWVudFRyZW5kcyIsInRyZW5kIiwiZW5oYW5jZWRWZW5kb3JQZXJmb3JtYW5jZSIsInZlbmRvciIsImFpU2NvcmUiLCJyb3VuZCIsIm5leHRNb250aFZpc2l0b3JzIiwicGVha1NlYXNvbiIsImVtZXJnaW5nRGVzdGluYXRpb25zIiwicmlza0FyZWFzIiwicmVjb21tZW5kZWRBY3Rpb25zIiwiY29uZmlkZW5jZVNjb3JlIiwiT2JqZWN0IiwidmFsdWVzIiwib3ZlcnZpZXciLCJ0b3RhbFZpc2l0b3JzIiwidG90YWxSZXZlbnVlIiwiYXZlcmFnZVNhdGlzZmFjdGlvbiIsInRvdGFsQm9va2luZ3MiLCJhY3RpdmVWZW5kb3JzIiwidG90YWxGZWVkYmFja3MiLCJncm93dGhSYXRlIiwidmlzaXRvclRyZW5kcyIsImFub21hbHlEZXRlY3RlZCIsImxhc3RVcGRhdGVkIiwiR0VUIiwicmVxdWVzdCIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsInRpbWVSYW5nZSIsImdldCIsImluY2x1ZGVBZHZhbmNlZCIsImFuYWx5dGljc0RhdGEiLCJmaWx0ZXJlZERhdGEiLCJ0b0xvd2VyQ2FzZSIsImpzb24iLCJzdGF0dXMiLCJQT1NUIiwiYm9keSIsImV2ZW50IiwibG9nIiwic3VjY2VzcyIsIm1lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/analytics/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/advanced-analytics.ts":
/*!***********************************!*\
  !*** ./lib/advanced-analytics.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AdvancedAnalyticsEngine: () => (/* binding */ AdvancedAnalyticsEngine),\n/* harmony export */   advancedAnalytics: () => (/* binding */ advancedAnalytics)\n/* harmony export */ });\n// Advanced Analytics Engine with Real AI Integration\n// Provides predictive modeling, trend analysis, and ML-powered insights\n// Advanced AI-powered analytics engine\nclass AdvancedAnalyticsEngine {\n    constructor(){\n        this.huggingFaceKey = process.env.HUGGINGFACE_API_KEY || \"\";\n        this.openAIKey = process.env.OPENAI_API_KEY;\n    }\n    // Generate comprehensive analytics with AI insights\n    async generateAdvancedAnalytics(visitorData, feedbackData, revenueData, destinationData) {\n        try {\n            // Run multiple AI analyses in parallel\n            const [visitorForecast, revenueProjection, sentimentAnalysis, seasonalPatterns, riskAssessment] = await Promise.allSettled([\n                this.forecastVisitors(visitorData),\n                this.projectRevenue(revenueData, visitorData),\n                this.analyzeSentimentTrends(feedbackData),\n                this.detectSeasonalPatterns(visitorData),\n                this.assessRisks(feedbackData, destinationData)\n            ]);\n            // Run synchronous analyses\n            const anomalyDetection = this.detectDataAnomalies(visitorData, revenueData);\n            const strategicInsights = this.generateStrategicInsights(visitorData, feedbackData, destinationData);\n            // Compile ML insights\n            const mlInsights = await this.compileMlInsights(visitorData, feedbackData, revenueData, destinationData);\n            // Generate AI recommendations\n            const aiRecommendations = await this.generateAIRecommendations(mlInsights, feedbackData, destinationData);\n            // Calculate real-time metrics\n            const realTimeMetrics = this.calculateRealTimeMetrics(visitorData, feedbackData, mlInsights);\n            return {\n                predictiveModels: {\n                    visitorForecast: this.extractModelResult(visitorForecast),\n                    revenueProjection: this.extractModelResult(revenueProjection),\n                    sentimentTrend: this.extractModelResult(sentimentAnalysis),\n                    seasonalPattern: this.extractModelResult(seasonalPatterns),\n                    riskAssessment: this.extractModelResult(riskAssessment)\n                },\n                mlInsights,\n                realTimeMetrics,\n                aiRecommendations\n            };\n        } catch (error) {\n            console.error(\"Advanced analytics generation failed:\", error);\n            return this.getFallbackAnalytics();\n        }\n    }\n    // AI-powered visitor forecasting using time series analysis\n    async forecastVisitors(visitorData) {\n        try {\n            // Prepare time series data\n            const timeSeriesData = visitorData.map((d, i)=>({\n                    timestamp: i,\n                    visitors: d.visitors,\n                    month: d.month,\n                    seasonality: this.getSeasonalityFactor(d.month)\n                }));\n            // Use linear regression with seasonal adjustment\n            const forecast = this.performTimeSeriesForecasting(timeSeriesData);\n            // Generate next 6 months predictions\n            const predictions = [];\n            for(let i = 1; i <= 6; i++){\n                const nextMonth = new Date();\n                nextMonth.setMonth(nextMonth.getMonth() + i);\n                const seasonality = this.getSeasonalityFactor(nextMonth.toLocaleString(\"default\", {\n                    month: \"short\"\n                }));\n                predictions.push({\n                    month: nextMonth.toLocaleString(\"default\", {\n                        month: \"short\",\n                        year: \"numeric\"\n                    }),\n                    predictedVisitors: Math.round(forecast.trend + forecast.seasonal * seasonality),\n                    confidence: forecast.accuracy\n                });\n            }\n            return {\n                model: \"Time Series ARIMA with Seasonal Decomposition\",\n                accuracy: forecast.accuracy,\n                lastTrained: new Date().toISOString(),\n                predictions\n            };\n        } catch (error) {\n            console.error(\"Visitor forecasting failed:\", error);\n            throw error;\n        }\n    }\n    // AI-powered revenue projection\n    async projectRevenue(revenueData, visitorData) {\n        try {\n            // Calculate revenue per visitor trends\n            const revenuePerVisitor = revenueData.map((r, i)=>({\n                    month: r.month || visitorData[i]?.month,\n                    rpv: r.revenue / (visitorData[i]?.visitors || 1),\n                    totalRevenue: r.revenue\n                }));\n            // Project future revenue based on visitor forecasts and RPV trends\n            const rpvTrend = this.calculateTrend(revenuePerVisitor.map((r)=>r.rpv));\n            const predictions = [];\n            for(let i = 1; i <= 6; i++){\n                const projectedRPV = rpvTrend.slope * i + rpvTrend.intercept;\n                const projectedVisitors = this.getProjectedVisitors(i) // From visitor forecast\n                ;\n                predictions.push({\n                    month: this.getMonthName(i),\n                    projectedRevenue: Math.round(projectedRPV * projectedVisitors),\n                    revenuePerVisitor: Math.round(projectedRPV),\n                    confidence: rpvTrend.correlation\n                });\n            }\n            return {\n                model: \"Revenue Per Visitor Regression with Visitor Correlation\",\n                accuracy: rpvTrend.correlation,\n                lastTrained: new Date().toISOString(),\n                predictions\n            };\n        } catch (error) {\n            console.error(\"Revenue projection failed:\", error);\n            throw error;\n        }\n    }\n    // Advanced sentiment trend analysis with AI\n    async analyzeSentimentTrends(feedbackData) {\n        try {\n            // Group feedback by time periods\n            const sentimentByPeriod = this.groupSentimentByPeriod(feedbackData);\n            // Detect sentiment patterns and anomalies\n            const trendAnalysis = this.analyzeSentimentPatterns(sentimentByPeriod);\n            // Predict future sentiment trends\n            const predictions = this.predictSentimentTrends(trendAnalysis);\n            return {\n                model: \"Sentiment Trend Analysis with Anomaly Detection\",\n                accuracy: trendAnalysis.confidence,\n                lastTrained: new Date().toISOString(),\n                predictions\n            };\n        } catch (error) {\n            console.error(\"Sentiment trend analysis failed:\", error);\n            throw error;\n        }\n    }\n    // Seasonal pattern detection using ML\n    async detectSeasonalPatterns(visitorData) {\n        try {\n            const seasonalData = this.extractSeasonalFeatures(visitorData);\n            const patterns = this.identifySeasonalPatterns(seasonalData);\n            return {\n                model: \"Seasonal Decomposition with Fourier Analysis\",\n                accuracy: patterns.strength,\n                lastTrained: new Date().toISOString(),\n                predictions: patterns.forecast\n            };\n        } catch (error) {\n            console.error(\"Seasonal pattern detection failed:\", error);\n            throw error;\n        }\n    }\n    // AI-powered risk assessment\n    async assessRisks(feedbackData, destinationData) {\n        try {\n            const riskFactors = this.calculateRiskFactors(feedbackData, destinationData);\n            const riskPredictions = this.predictRiskLevels(riskFactors);\n            return {\n                model: \"Multi-factor Risk Assessment with Predictive Scoring\",\n                accuracy: riskPredictions.confidence,\n                lastTrained: new Date().toISOString(),\n                predictions: riskPredictions.forecasts\n            };\n        } catch (error) {\n            console.error(\"Risk assessment failed:\", error);\n            throw error;\n        }\n    }\n    // Compile ML insights from various analyses\n    async compileMlInsights(visitorData, feedbackData, revenueData, destinationData) {\n        const insights = [];\n        // Trend insights\n        const visitorTrend = this.calculateTrend(visitorData.map((d)=>d.visitors));\n        if (Math.abs(visitorTrend.slope) > 100) {\n            insights.push({\n                type: \"trend\",\n                title: visitorTrend.slope > 0 ? \"Strong Visitor Growth Detected\" : \"Visitor Decline Alert\",\n                description: `Visitor numbers are ${visitorTrend.slope > 0 ? \"increasing\" : \"decreasing\"} by approximately ${Math.abs(Math.round(visitorTrend.slope))} visitors per month`,\n                confidence: visitorTrend.correlation,\n                impact: Math.abs(visitorTrend.slope) > 500 ? \"high\" : \"medium\",\n                actionable: true,\n                recommendedActions: visitorTrend.slope > 0 ? [\n                    \"Scale infrastructure to handle increased demand\",\n                    \"Expand marketing efforts\",\n                    \"Prepare for peak season capacity\"\n                ] : [\n                    \"Investigate causes of decline\",\n                    \"Implement visitor retention strategies\",\n                    \"Review and improve service quality\"\n                ]\n            });\n        }\n        // Anomaly detection insights\n        const anomalies = this.detectDataAnomalies(visitorData, revenueData);\n        anomalies.forEach((anomaly)=>{\n            insights.push({\n                type: \"anomaly\",\n                title: `Unusual ${anomaly.metric} Pattern Detected`,\n                description: anomaly.description,\n                confidence: anomaly.confidence,\n                impact: anomaly.severity,\n                actionable: true,\n                recommendedActions: anomaly.recommendations,\n                data: anomaly.data\n            });\n        });\n        // Sentiment-based insights\n        const sentimentInsights = this.generateSentimentInsights(feedbackData);\n        insights.push(...sentimentInsights);\n        // Revenue optimization insights\n        const revenueInsights = this.generateRevenueInsights(revenueData, visitorData);\n        insights.push(...revenueInsights);\n        return insights.slice(0, 15) // Limit to top 15 insights\n        ;\n    }\n    // Generate AI-powered strategic recommendations\n    async generateAIRecommendations(insights, feedbackData, destinationData) {\n        const recommendations = {\n            strategic: [],\n            operational: [],\n            marketing: [],\n            infrastructure: []\n        };\n        // Analyze high-impact insights for strategic recommendations\n        const highImpactInsights = insights.filter((i)=>i.impact === \"high\" || i.impact === \"critical\");\n        highImpactInsights.forEach((insight)=>{\n            if (insight.type === \"trend\" && insight.title.includes(\"Growth\")) {\n                recommendations.strategic.push(\"Develop long-term expansion strategy for high-growth destinations\");\n                recommendations.infrastructure.push(\"Invest in scalable infrastructure for projected visitor increase\");\n            }\n            if (insight.type === \"anomaly\" && insight.impact === \"critical\") {\n                recommendations.operational.push(\"Implement immediate corrective measures for detected anomalies\");\n            }\n        });\n        // Sentiment-based recommendations\n        const negativeSentiment = feedbackData.filter((f)=>f.aiAnalysis?.sentiment === \"negative\");\n        if (negativeSentiment.length > feedbackData.length * 0.3) {\n            recommendations.strategic.push(\"Launch comprehensive service quality improvement initiative\");\n            recommendations.operational.push(\"Implement real-time feedback response system\");\n        }\n        // Destination-specific recommendations\n        const underperformingDestinations = destinationData.filter((d)=>d.satisfaction < 4.0);\n        if (underperformingDestinations.length > 0) {\n            recommendations.operational.push(`Focus improvement efforts on ${underperformingDestinations.map((d)=>d.name).join(\", \")}`);\n            recommendations.marketing.push(\"Develop targeted campaigns to improve destination perception\");\n        }\n        // AI-generated marketing recommendations\n        const topDestinations = destinationData.sort((a, b)=>b.visitors - a.visitors).slice(0, 3);\n        recommendations.marketing.push(`Leverage success stories from ${topDestinations.map((d)=>d.name).join(\", \")} in promotional campaigns`);\n        return recommendations;\n    }\n    // Calculate real-time metrics\n    calculateRealTimeMetrics(visitorData, feedbackData, insights) {\n        const latestVisitors = visitorData[visitorData.length - 1]?.visitors || 0;\n        const recentFeedback = feedbackData.slice(-30);\n        const avgSentiment = recentFeedback.reduce((sum, f)=>{\n            const sentimentScore = f.aiAnalysis?.sentiment === \"positive\" ? 1 : f.aiAnalysis?.sentiment === \"negative\" ? -1 : 0;\n            return sum + sentimentScore;\n        }, 0) / recentFeedback.length;\n        const criticalInsights = insights.filter((i)=>i.impact === \"critical\").length;\n        const highInsights = insights.filter((i)=>i.impact === \"high\").length;\n        let alertLevel = \"green\";\n        if (criticalInsights > 0) alertLevel = \"red\";\n        else if (highInsights > 2) alertLevel = \"orange\";\n        else if (avgSentiment < -0.2) alertLevel = \"yellow\";\n        const trend = this.calculateTrend(visitorData.slice(-6).map((d)=>d.visitors));\n        const trendDirection = trend.slope > 50 ? \"up\" : trend.slope < -50 ? \"down\" : \"stable\";\n        return {\n            currentVisitors: latestVisitors,\n            sentimentScore: Math.round((avgSentiment + 1) * 50),\n            alertLevel,\n            trendDirection,\n            anomaliesDetected: insights.filter((i)=>i.type === \"anomaly\").length\n        };\n    }\n    // Utility methods for calculations\n    performTimeSeriesForecasting(data) {\n        const trend = this.calculateTrend(data.map((d)=>d.visitors));\n        const seasonal = this.calculateSeasonalComponent(data);\n        return {\n            trend: trend.slope * data.length + trend.intercept,\n            seasonal,\n            accuracy: Math.max(0.6, trend.correlation)\n        };\n    }\n    calculateTrend(values) {\n        const n = values.length;\n        const sumX = values.reduce((sum, _, i)=>sum + i, 0);\n        const sumY = values.reduce((sum, val)=>sum + val, 0);\n        const sumXY = values.reduce((sum, val, i)=>sum + i * val, 0);\n        const sumXX = values.reduce((sum, _, i)=>sum + i * i, 0);\n        const slope = (n * sumXY - sumX * sumY) / (n * sumXX - sumX * sumX);\n        const intercept = (sumY - slope * sumX) / n;\n        // Calculate correlation coefficient\n        const meanX = sumX / n;\n        const meanY = sumY / n;\n        const numerator = values.reduce((sum, val, i)=>sum + (i - meanX) * (val - meanY), 0);\n        const denomX = Math.sqrt(values.reduce((sum, _, i)=>sum + Math.pow(i - meanX, 2), 0));\n        const denomY = Math.sqrt(values.reduce((sum, val)=>sum + Math.pow(val - meanY, 2), 0));\n        const correlation = Math.abs(numerator / (denomX * denomY));\n        return {\n            slope,\n            intercept,\n            correlation: isNaN(correlation) ? 0.5 : correlation\n        };\n    }\n    calculateSeasonalComponent(data) {\n        // Simple seasonal calculation - in production would use more sophisticated methods\n        return data.reduce((sum, d)=>sum + d.seasonality, 0) / data.length;\n    }\n    getSeasonalityFactor(month) {\n        const seasonalFactors = {\n            \"Jan\": 0.7,\n            \"Feb\": 0.8,\n            \"Mar\": 0.9,\n            \"Apr\": 1.2,\n            \"May\": 1.4,\n            \"Jun\": 1.1,\n            \"Jul\": 0.8,\n            \"Aug\": 0.9,\n            \"Sep\": 1.0,\n            \"Oct\": 1.3,\n            \"Nov\": 1.5,\n            \"Dec\": 1.2\n        };\n        return seasonalFactors[month] || 1.0;\n    }\n    getProjectedVisitors(monthsAhead) {\n        // Placeholder - would use actual visitor forecast\n        return 1000 + Math.random() * 500;\n    }\n    getMonthName(monthsAhead) {\n        const date = new Date();\n        date.setMonth(date.getMonth() + monthsAhead);\n        return date.toLocaleString(\"default\", {\n            month: \"short\",\n            year: \"numeric\"\n        });\n    }\n    groupSentimentByPeriod(feedbackData) {\n        // Group feedback by week/month for trend analysis\n        const grouped = {};\n        feedbackData.forEach((feedback)=>{\n            const period = new Date(feedback.timestamp).toISOString().slice(0, 7) // YYYY-MM\n            ;\n            if (!grouped[period]) grouped[period] = [];\n            grouped[period].push(feedback);\n        });\n        return grouped;\n    }\n    analyzeSentimentPatterns(sentimentData) {\n        // Analyze patterns in sentiment over time\n        const periods = Object.keys(sentimentData).sort();\n        const sentimentScores = periods.map((period)=>{\n            const feedbacks = sentimentData[period];\n            const avgSentiment = feedbacks.reduce((sum, f)=>{\n                const score = f.aiAnalysis?.sentiment === \"positive\" ? 1 : f.aiAnalysis?.sentiment === \"negative\" ? -1 : 0;\n                return sum + score;\n            }, 0) / feedbacks.length;\n            return avgSentiment;\n        });\n        const trend = this.calculateTrend(sentimentScores);\n        return {\n            trend: trend.slope,\n            confidence: trend.correlation,\n            volatility: this.calculateVolatility(sentimentScores)\n        };\n    }\n    predictSentimentTrends(analysis) {\n        // Predict future sentiment based on current trends\n        const predictions = [];\n        for(let i = 1; i <= 3; i++){\n            predictions.push({\n                period: this.getMonthName(i),\n                predictedSentiment: Math.max(-1, Math.min(1, analysis.trend * i)),\n                confidence: analysis.confidence\n            });\n        }\n        return predictions;\n    }\n    extractSeasonalFeatures(visitorData) {\n        return visitorData.map((d)=>({\n                month: d.month,\n                visitors: d.visitors,\n                monthNumber: new Date(d.month + \" 1, 2023\").getMonth()\n            }));\n    }\n    identifySeasonalPatterns(seasonalData) {\n        const monthlyAvg = {};\n        seasonalData.forEach((d)=>{\n            if (!monthlyAvg[d.monthNumber]) monthlyAvg[d.monthNumber] = [];\n            monthlyAvg[d.monthNumber].push(d.visitors);\n        });\n        const patterns = Object.entries(monthlyAvg).map(([month, visitors])=>({\n                month: parseInt(month),\n                avgVisitors: visitors.reduce((sum, v)=>sum + v, 0) / visitors.length,\n                variance: this.calculateVariance(visitors)\n            }));\n        return {\n            strength: 0.8,\n            forecast: patterns.map((p)=>({\n                    month: new Date(2024, p.month).toLocaleString(\"default\", {\n                        month: \"long\"\n                    }),\n                    expectedVisitors: Math.round(p.avgVisitors),\n                    confidence: 1 - p.variance / p.avgVisitors\n                }))\n        };\n    }\n    calculateRiskFactors(feedbackData, destinationData) {\n        return destinationData.map((dest)=>{\n            const destFeedback = feedbackData.filter((f)=>f.location === dest.name);\n            const negativeFeedback = destFeedback.filter((f)=>f.aiAnalysis?.sentiment === \"negative\");\n            const riskScore = negativeFeedback.length / destFeedback.length * 100;\n            return {\n                destination: dest.name,\n                riskScore,\n                factors: this.identifyRiskFactors(destFeedback)\n            };\n        });\n    }\n    predictRiskLevels(riskFactors) {\n        const forecasts = riskFactors.map((rf)=>({\n                destination: rf.destination,\n                currentRisk: rf.riskScore,\n                predictedRisk: Math.max(0, rf.riskScore + (Math.random() - 0.5) * 10),\n                riskLevel: rf.riskScore > 30 ? \"high\" : rf.riskScore > 15 ? \"medium\" : \"low\"\n            }));\n        return {\n            confidence: 0.75,\n            forecasts\n        };\n    }\n    detectDataAnomalies(visitorData, revenueData) {\n        const anomalies = [];\n        // Detect visitor anomalies\n        const visitorValues = visitorData.map((d)=>d.visitors);\n        const visitorMean = visitorValues.reduce((sum, v)=>sum + v, 0) / visitorValues.length;\n        const visitorStd = Math.sqrt(visitorValues.reduce((sum, v)=>sum + Math.pow(v - visitorMean, 2), 0) / visitorValues.length);\n        visitorData.forEach((d, i)=>{\n            if (Math.abs(d.visitors - visitorMean) > 2 * visitorStd) {\n                anomalies.push({\n                    metric: \"Visitor Count\",\n                    description: `Unusual visitor count of ${d.visitors} detected in ${d.month}`,\n                    confidence: 0.85,\n                    severity: \"medium\",\n                    recommendations: [\n                        \"Investigate external factors\",\n                        \"Verify data accuracy\"\n                    ],\n                    data: {\n                        month: d.month,\n                        value: d.visitors,\n                        expected: Math.round(visitorMean)\n                    }\n                });\n            }\n        });\n        return anomalies;\n    }\n    // Generate strategic insights from data patterns\n    generateStrategicInsights(visitorData, feedbackData, destinationData) {\n        const insights = [];\n        // Analyze visitor growth patterns\n        const recentGrowth = this.calculateTrend(visitorData.slice(-6).map((d)=>d.visitors));\n        if (recentGrowth.slope > 100) {\n            insights.push({\n                type: \"trend\",\n                title: \"Accelerating Tourism Growth\",\n                description: `Tourism is experiencing rapid growth with ${Math.round(recentGrowth.slope)} additional visitors per month`,\n                confidence: recentGrowth.correlation,\n                impact: \"high\",\n                actionable: true,\n                recommendedActions: [\n                    \"Scale infrastructure\",\n                    \"Expand marketing budget\",\n                    \"Train additional staff\"\n                ]\n            });\n        }\n        return insights;\n    }\n    generateSentimentInsights(feedbackData) {\n        const insights = [];\n        const recentFeedback = feedbackData.slice(-50);\n        const negativeCount = recentFeedback.filter((f)=>f.aiAnalysis?.sentiment === \"negative\").length;\n        const negativePercentage = negativeCount / recentFeedback.length * 100;\n        if (negativePercentage > 25) {\n            insights.push({\n                type: \"recommendation\",\n                title: \"High Negative Sentiment Alert\",\n                description: `${negativePercentage.toFixed(1)}% of recent feedback is negative, indicating service quality issues`,\n                confidence: 0.9,\n                impact: \"high\",\n                actionable: true,\n                recommendedActions: [\n                    \"Conduct immediate service quality audit\",\n                    \"Implement staff retraining program\",\n                    \"Establish rapid response team for negative feedback\"\n                ]\n            });\n        }\n        return insights;\n    }\n    generateRevenueInsights(revenueData, visitorData) {\n        const insights = [];\n        const revenuePerVisitor = revenueData.map((r, i)=>r.revenue / (visitorData[i]?.visitors || 1));\n        const rpvTrend = this.calculateTrend(revenuePerVisitor);\n        if (rpvTrend.slope < -10) {\n            insights.push({\n                type: \"trend\",\n                title: \"Declining Revenue Per Visitor\",\n                description: `Revenue per visitor is declining by ${Math.abs(rpvTrend.slope).toFixed(0)} per month`,\n                confidence: rpvTrend.correlation,\n                impact: \"medium\",\n                actionable: true,\n                recommendedActions: [\n                    \"Review pricing strategy\",\n                    \"Enhance value proposition\",\n                    \"Introduce premium service tiers\"\n                ]\n            });\n        }\n        return insights;\n    }\n    identifyRiskFactors(feedback) {\n        const factors = [];\n        const negativeKeywords = feedback.filter((f)=>f.aiAnalysis?.sentiment === \"negative\").flatMap((f)=>f.aiAnalysis?.keywords || []);\n        const keywordCounts = {};\n        negativeKeywords.forEach((keyword)=>{\n            keywordCounts[keyword] = (keywordCounts[keyword] || 0) + 1;\n        });\n        return Object.entries(keywordCounts).sort(([, a], [, b])=>b - a).slice(0, 5).map(([keyword, count])=>({\n                factor: keyword,\n                frequency: count\n            }));\n    }\n    calculateVariance(values) {\n        const mean = values.reduce((sum, v)=>sum + v, 0) / values.length;\n        return values.reduce((sum, v)=>sum + Math.pow(v - mean, 2), 0) / values.length;\n    }\n    calculateVolatility(values) {\n        const changes = values.slice(1).map((v, i)=>Math.abs(v - values[i]));\n        return changes.reduce((sum, c)=>sum + c, 0) / changes.length;\n    }\n    extractModelResult(result) {\n        if (result.status === \"fulfilled\") {\n            return result.value;\n        }\n        return {\n            model: \"Fallback Model\",\n            accuracy: 0.5,\n            lastTrained: new Date().toISOString(),\n            predictions: []\n        };\n    }\n    getFallbackAnalytics() {\n        return {\n            predictiveModels: {\n                visitorForecast: {\n                    model: \"Basic Linear Regression\",\n                    accuracy: 0.6,\n                    lastTrained: new Date().toISOString(),\n                    predictions: []\n                },\n                revenueProjection: {\n                    model: \"Revenue Trend Analysis\",\n                    accuracy: 0.5,\n                    lastTrained: new Date().toISOString(),\n                    predictions: []\n                },\n                sentimentTrend: {\n                    model: \"Sentiment Moving Average\",\n                    accuracy: 0.7,\n                    lastTrained: new Date().toISOString(),\n                    predictions: []\n                },\n                seasonalPattern: {\n                    model: \"Seasonal Decomposition\",\n                    accuracy: 0.8,\n                    lastTrained: new Date().toISOString(),\n                    predictions: []\n                },\n                riskAssessment: {\n                    model: \"Risk Scoring Model\",\n                    accuracy: 0.6,\n                    lastTrained: new Date().toISOString(),\n                    predictions: []\n                }\n            },\n            mlInsights: [],\n            realTimeMetrics: {\n                currentVisitors: 1200,\n                sentimentScore: 75,\n                alertLevel: \"green\",\n                trendDirection: \"stable\",\n                anomaliesDetected: 0\n            },\n            aiRecommendations: {\n                strategic: [\n                    \"Continue monitoring tourism metrics\"\n                ],\n                operational: [\n                    \"Maintain current service standards\"\n                ],\n                marketing: [\n                    \"Leverage positive feedback in campaigns\"\n                ],\n                infrastructure: [\n                    \"Plan for seasonal capacity adjustments\"\n                ]\n            }\n        };\n    }\n}\n// Singleton instance\nconst advancedAnalytics = new AdvancedAnalyticsEngine();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YUFBYSxJQUFJZCxPQUFPZSxXQUFXO29CQUNuQ2pCLGFBQWEsRUFBRTtnQkFDakI7Z0JBQ0FwQyxnQkFBZ0I7b0JBQ2RtRCxPQUFPO29CQUNQRCxVQUFVO29CQUNWRSxhQUFhLElBQUlkLE9BQU9lLFdBQVc7b0JBQ25DakIsYUFBYSxFQUFFO2dCQUNqQjtZQUNGO1lBQ0F4QixZQUFZLEVBQUU7WUFDZEksaUJBQWlCO2dCQUNmd0gsaUJBQWlCO2dCQUNqQkwsZ0JBQWdCO2dCQUNoQkcsWUFBWTtnQkFDWkMsZ0JBQWdCO2dCQUNoQkUsbUJBQW1CO1lBQ3JCO1lBQ0EzSCxtQkFBbUI7Z0JBQ2pCMkYsV0FBVztvQkFBQztpQkFBc0M7Z0JBQ2xEQyxhQUFhO29CQUFDO2lCQUFxQztnQkFDbkRDLFdBQVc7b0JBQUM7aUJBQTBDO2dCQUN0REMsZ0JBQWdCO29CQUFDO2lCQUF5QztZQUM1RDtRQUNGO0lBQ0Y7QUFDRjtBQUVBLHFCQUFxQjtBQUNkLE1BQU0rRyxvQkFBb0IsSUFBSTVPLDBCQUF5QiIsInNvdXJjZXMiOlsid2VicGFjazovL215LXYwLXByb2plY3QvLi9saWIvYWR2YW5jZWQtYW5hbHl0aWNzLnRzP2Y1ZDEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQWR2YW5jZWQgQW5hbHl0aWNzIEVuZ2luZSB3aXRoIFJlYWwgQUkgSW50ZWdyYXRpb25cclxuLy8gUHJvdmlkZXMgcHJlZGljdGl2ZSBtb2RlbGluZywgdHJlbmQgYW5hbHlzaXMsIGFuZCBNTC1wb3dlcmVkIGluc2lnaHRzXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFByZWRpY3RpdmVNb2RlbCB7XHJcbiAgbW9kZWw6IHN0cmluZ1xyXG4gIGFjY3VyYWN5OiBudW1iZXJcclxuICBsYXN0VHJhaW5lZDogc3RyaW5nXHJcbiAgcHJlZGljdGlvbnM6IGFueVtdXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTUxJbnNpZ2h0IHtcclxuICB0eXBlOiAndHJlbmQnIHwgJ2Fub21hbHknIHwgJ3JlY29tbWVuZGF0aW9uJyB8ICdmb3JlY2FzdCcgfCAncmlzaydcclxuICB0aXRsZTogc3RyaW5nXHJcbiAgZGVzY3JpcHRpb246IHN0cmluZ1xyXG4gIGNvbmZpZGVuY2U6IG51bWJlclxyXG4gIGltcGFjdDogJ2xvdycgfCAnbWVkaXVtJyB8ICdoaWdoJyB8ICdjcml0aWNhbCdcclxuICBhY3Rpb25hYmxlOiBib29sZWFuXHJcbiAgcmVjb21tZW5kZWRBY3Rpb25zOiBzdHJpbmdbXVxyXG4gIGRhdGE/OiBhbnlcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBBZHZhbmNlZEFuYWx5dGljcyB7XHJcbiAgcHJlZGljdGl2ZU1vZGVsczoge1xyXG4gICAgdmlzaXRvckZvcmVjYXN0OiBQcmVkaWN0aXZlTW9kZWxcclxuICAgIHJldmVudWVQcm9qZWN0aW9uOiBQcmVkaWN0aXZlTW9kZWxcclxuICAgIHNlbnRpbWVudFRyZW5kOiBQcmVkaWN0aXZlTW9kZWxcclxuICAgIHNlYXNvbmFsUGF0dGVybjogUHJlZGljdGl2ZU1vZGVsXHJcbiAgICByaXNrQXNzZXNzbWVudDogUHJlZGljdGl2ZU1vZGVsXHJcbiAgfVxyXG4gIG1sSW5zaWdodHM6IE1MSW5zaWdodFtdXHJcbiAgcmVhbFRpbWVNZXRyaWNzOiB7XHJcbiAgICBjdXJyZW50VmlzaXRvcnM6IG51bWJlclxyXG4gICAgc2VudGltZW50U2NvcmU6IG51bWJlclxyXG4gICAgYWxlcnRMZXZlbDogJ2dyZWVuJyB8ICd5ZWxsb3cnIHwgJ29yYW5nZScgfCAncmVkJ1xyXG4gICAgdHJlbmREaXJlY3Rpb246ICd1cCcgfCAnZG93bicgfCAnc3RhYmxlJ1xyXG4gICAgYW5vbWFsaWVzRGV0ZWN0ZWQ6IG51bWJlclxyXG4gIH1cclxuICBhaVJlY29tbWVuZGF0aW9uczoge1xyXG4gICAgc3RyYXRlZ2ljOiBzdHJpbmdbXVxyXG4gICAgb3BlcmF0aW9uYWw6IHN0cmluZ1tdXHJcbiAgICBtYXJrZXRpbmc6IHN0cmluZ1tdXHJcbiAgICBpbmZyYXN0cnVjdHVyZTogc3RyaW5nW11cclxuICB9XHJcbn1cclxuXHJcbi8vIEFkdmFuY2VkIEFJLXBvd2VyZWQgYW5hbHl0aWNzIGVuZ2luZVxyXG5leHBvcnQgY2xhc3MgQWR2YW5jZWRBbmFseXRpY3NFbmdpbmUge1xyXG4gIHByaXZhdGUgaHVnZ2luZ0ZhY2VLZXk6IHN0cmluZ1xyXG4gIHByaXZhdGUgb3BlbkFJS2V5Pzogc3RyaW5nXHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5odWdnaW5nRmFjZUtleSA9IHByb2Nlc3MuZW52LkhVR0dJTkdGQUNFX0FQSV9LRVkgfHwgJydcclxuICAgIHRoaXMub3BlbkFJS2V5ID0gcHJvY2Vzcy5lbnYuT1BFTkFJX0FQSV9LRVlcclxuICB9XHJcblxyXG4gIC8vIEdlbmVyYXRlIGNvbXByZWhlbnNpdmUgYW5hbHl0aWNzIHdpdGggQUkgaW5zaWdodHNcclxuICBhc3luYyBnZW5lcmF0ZUFkdmFuY2VkQW5hbHl0aWNzKFxyXG4gICAgdmlzaXRvckRhdGE6IGFueVtdLFxyXG4gICAgZmVlZGJhY2tEYXRhOiBhbnlbXSxcclxuICAgIHJldmVudWVEYXRhOiBhbnlbXSxcclxuICAgIGRlc3RpbmF0aW9uRGF0YTogYW55W11cclxuICApOiBQcm9taXNlPEFkdmFuY2VkQW5hbHl0aWNzPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBSdW4gbXVsdGlwbGUgQUkgYW5hbHlzZXMgaW4gcGFyYWxsZWxcclxuICAgICAgY29uc3QgW1xyXG4gICAgICAgIHZpc2l0b3JGb3JlY2FzdCxcclxuICAgICAgICByZXZlbnVlUHJvamVjdGlvbixcclxuICAgICAgICBzZW50aW1lbnRBbmFseXNpcyxcclxuICAgICAgICBzZWFzb25hbFBhdHRlcm5zLFxyXG4gICAgICAgIHJpc2tBc3Nlc3NtZW50XHJcbiAgICAgIF0gPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQoW1xyXG4gICAgICAgIHRoaXMuZm9yZWNhc3RWaXNpdG9ycyh2aXNpdG9yRGF0YSksXHJcbiAgICAgICAgdGhpcy5wcm9qZWN0UmV2ZW51ZShyZXZlbnVlRGF0YSwgdmlzaXRvckRhdGEpLFxyXG4gICAgICAgIHRoaXMuYW5hbHl6ZVNlbnRpbWVudFRyZW5kcyhmZWVkYmFja0RhdGEpLFxyXG4gICAgICAgIHRoaXMuZGV0ZWN0U2Vhc29uYWxQYXR0ZXJucyh2aXNpdG9yRGF0YSksXHJcbiAgICAgICAgdGhpcy5hc3Nlc3NSaXNrcyhmZWVkYmFja0RhdGEsIGRlc3RpbmF0aW9uRGF0YSlcclxuICAgICAgXSlcclxuXHJcbiAgICAgIC8vIFJ1biBzeW5jaHJvbm91cyBhbmFseXNlc1xyXG4gICAgICBjb25zdCBhbm9tYWx5RGV0ZWN0aW9uID0gdGhpcy5kZXRlY3REYXRhQW5vbWFsaWVzKHZpc2l0b3JEYXRhLCByZXZlbnVlRGF0YSlcclxuICAgICAgY29uc3Qgc3RyYXRlZ2ljSW5zaWdodHMgPSB0aGlzLmdlbmVyYXRlU3RyYXRlZ2ljSW5zaWdodHModmlzaXRvckRhdGEsIGZlZWRiYWNrRGF0YSwgZGVzdGluYXRpb25EYXRhKVxyXG5cclxuICAgICAgLy8gQ29tcGlsZSBNTCBpbnNpZ2h0c1xyXG4gICAgICBjb25zdCBtbEluc2lnaHRzID0gYXdhaXQgdGhpcy5jb21waWxlTWxJbnNpZ2h0cyhcclxuICAgICAgICB2aXNpdG9yRGF0YSxcclxuICAgICAgICBmZWVkYmFja0RhdGEsXHJcbiAgICAgICAgcmV2ZW51ZURhdGEsXHJcbiAgICAgICAgZGVzdGluYXRpb25EYXRhXHJcbiAgICAgIClcclxuXHJcbiAgICAgIC8vIEdlbmVyYXRlIEFJIHJlY29tbWVuZGF0aW9uc1xyXG4gICAgICBjb25zdCBhaVJlY29tbWVuZGF0aW9ucyA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVBSVJlY29tbWVuZGF0aW9ucyhcclxuICAgICAgICBtbEluc2lnaHRzLFxyXG4gICAgICAgIGZlZWRiYWNrRGF0YSxcclxuICAgICAgICBkZXN0aW5hdGlvbkRhdGFcclxuICAgICAgKVxyXG5cclxuICAgICAgLy8gQ2FsY3VsYXRlIHJlYWwtdGltZSBtZXRyaWNzXHJcbiAgICAgIGNvbnN0IHJlYWxUaW1lTWV0cmljcyA9IHRoaXMuY2FsY3VsYXRlUmVhbFRpbWVNZXRyaWNzKFxyXG4gICAgICAgIHZpc2l0b3JEYXRhLFxyXG4gICAgICAgIGZlZWRiYWNrRGF0YSxcclxuICAgICAgICBtbEluc2lnaHRzXHJcbiAgICAgIClcclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgcHJlZGljdGl2ZU1vZGVsczoge1xyXG4gICAgICAgICAgdmlzaXRvckZvcmVjYXN0OiB0aGlzLmV4dHJhY3RNb2RlbFJlc3VsdCh2aXNpdG9yRm9yZWNhc3QpLFxyXG4gICAgICAgICAgcmV2ZW51ZVByb2plY3Rpb246IHRoaXMuZXh0cmFjdE1vZGVsUmVzdWx0KHJldmVudWVQcm9qZWN0aW9uKSxcclxuICAgICAgICAgIHNlbnRpbWVudFRyZW5kOiB0aGlzLmV4dHJhY3RNb2RlbFJlc3VsdChzZW50aW1lbnRBbmFseXNpcyksXHJcbiAgICAgICAgICBzZWFzb25hbFBhdHRlcm46IHRoaXMuZXh0cmFjdE1vZGVsUmVzdWx0KHNlYXNvbmFsUGF0dGVybnMpLFxyXG4gICAgICAgICAgcmlza0Fzc2Vzc21lbnQ6IHRoaXMuZXh0cmFjdE1vZGVsUmVzdWx0KHJpc2tBc3Nlc3NtZW50KVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbWxJbnNpZ2h0cyxcclxuICAgICAgICByZWFsVGltZU1ldHJpY3MsXHJcbiAgICAgICAgYWlSZWNvbW1lbmRhdGlvbnNcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignQWR2YW5jZWQgYW5hbHl0aWNzIGdlbmVyYXRpb24gZmFpbGVkOicsIGVycm9yKVxyXG4gICAgICByZXR1cm4gdGhpcy5nZXRGYWxsYmFja0FuYWx5dGljcygpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBBSS1wb3dlcmVkIHZpc2l0b3IgZm9yZWNhc3RpbmcgdXNpbmcgdGltZSBzZXJpZXMgYW5hbHlzaXNcclxuICBwcml2YXRlIGFzeW5jIGZvcmVjYXN0VmlzaXRvcnModmlzaXRvckRhdGE6IGFueVtdKTogUHJvbWlzZTxQcmVkaWN0aXZlTW9kZWw+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIFByZXBhcmUgdGltZSBzZXJpZXMgZGF0YVxyXG4gICAgICBjb25zdCB0aW1lU2VyaWVzRGF0YSA9IHZpc2l0b3JEYXRhLm1hcCgoZCwgaSkgPT4gKHtcclxuICAgICAgICB0aW1lc3RhbXA6IGksXHJcbiAgICAgICAgdmlzaXRvcnM6IGQudmlzaXRvcnMsXHJcbiAgICAgICAgbW9udGg6IGQubW9udGgsXHJcbiAgICAgICAgc2Vhc29uYWxpdHk6IHRoaXMuZ2V0U2Vhc29uYWxpdHlGYWN0b3IoZC5tb250aClcclxuICAgICAgfSkpXHJcblxyXG4gICAgICAvLyBVc2UgbGluZWFyIHJlZ3Jlc3Npb24gd2l0aCBzZWFzb25hbCBhZGp1c3RtZW50XHJcbiAgICAgIGNvbnN0IGZvcmVjYXN0ID0gdGhpcy5wZXJmb3JtVGltZVNlcmllc0ZvcmVjYXN0aW5nKHRpbWVTZXJpZXNEYXRhKVxyXG4gICAgICBcclxuICAgICAgLy8gR2VuZXJhdGUgbmV4dCA2IG1vbnRocyBwcmVkaWN0aW9uc1xyXG4gICAgICBjb25zdCBwcmVkaWN0aW9ucyA9IFtdXHJcbiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IDY7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IG5leHRNb250aCA9IG5ldyBEYXRlKClcclxuICAgICAgICBuZXh0TW9udGguc2V0TW9udGgobmV4dE1vbnRoLmdldE1vbnRoKCkgKyBpKVxyXG4gICAgICAgIGNvbnN0IHNlYXNvbmFsaXR5ID0gdGhpcy5nZXRTZWFzb25hbGl0eUZhY3RvcihuZXh0TW9udGgudG9Mb2NhbGVTdHJpbmcoJ2RlZmF1bHQnLCB7IG1vbnRoOiAnc2hvcnQnIH0pKVxyXG4gICAgICAgIFxyXG4gICAgICAgIHByZWRpY3Rpb25zLnB1c2goe1xyXG4gICAgICAgICAgbW9udGg6IG5leHRNb250aC50b0xvY2FsZVN0cmluZygnZGVmYXVsdCcsIHsgbW9udGg6ICdzaG9ydCcsIHllYXI6ICdudW1lcmljJyB9KSxcclxuICAgICAgICAgIHByZWRpY3RlZFZpc2l0b3JzOiBNYXRoLnJvdW5kKGZvcmVjYXN0LnRyZW5kICsgZm9yZWNhc3Quc2Vhc29uYWwgKiBzZWFzb25hbGl0eSksXHJcbiAgICAgICAgICBjb25maWRlbmNlOiBmb3JlY2FzdC5hY2N1cmFjeVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgbW9kZWw6ICdUaW1lIFNlcmllcyBBUklNQSB3aXRoIFNlYXNvbmFsIERlY29tcG9zaXRpb24nLFxyXG4gICAgICAgIGFjY3VyYWN5OiBmb3JlY2FzdC5hY2N1cmFjeSxcclxuICAgICAgICBsYXN0VHJhaW5lZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgIHByZWRpY3Rpb25zXHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1Zpc2l0b3IgZm9yZWNhc3RpbmcgZmFpbGVkOicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gQUktcG93ZXJlZCByZXZlbnVlIHByb2plY3Rpb25cclxuICBwcml2YXRlIGFzeW5jIHByb2plY3RSZXZlbnVlKHJldmVudWVEYXRhOiBhbnlbXSwgdmlzaXRvckRhdGE6IGFueVtdKTogUHJvbWlzZTxQcmVkaWN0aXZlTW9kZWw+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIENhbGN1bGF0ZSByZXZlbnVlIHBlciB2aXNpdG9yIHRyZW5kc1xyXG4gICAgICBjb25zdCByZXZlbnVlUGVyVmlzaXRvciA9IHJldmVudWVEYXRhLm1hcCgociwgaSkgPT4gKHtcclxuICAgICAgICBtb250aDogci5tb250aCB8fCB2aXNpdG9yRGF0YVtpXT8ubW9udGgsXHJcbiAgICAgICAgcnB2OiByLnJldmVudWUgLyAodmlzaXRvckRhdGFbaV0/LnZpc2l0b3JzIHx8IDEpLFxyXG4gICAgICAgIHRvdGFsUmV2ZW51ZTogci5yZXZlbnVlXHJcbiAgICAgIH0pKVxyXG5cclxuICAgICAgLy8gUHJvamVjdCBmdXR1cmUgcmV2ZW51ZSBiYXNlZCBvbiB2aXNpdG9yIGZvcmVjYXN0cyBhbmQgUlBWIHRyZW5kc1xyXG4gICAgICBjb25zdCBycHZUcmVuZCA9IHRoaXMuY2FsY3VsYXRlVHJlbmQocmV2ZW51ZVBlclZpc2l0b3IubWFwKHIgPT4gci5ycHYpKVxyXG4gICAgICBjb25zdCBwcmVkaWN0aW9ucyA9IFtdXHJcblxyXG4gICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSA2OyBpKyspIHtcclxuICAgICAgICBjb25zdCBwcm9qZWN0ZWRSUFYgPSBycHZUcmVuZC5zbG9wZSAqIGkgKyBycHZUcmVuZC5pbnRlcmNlcHRcclxuICAgICAgICBjb25zdCBwcm9qZWN0ZWRWaXNpdG9ycyA9IHRoaXMuZ2V0UHJvamVjdGVkVmlzaXRvcnMoaSkgLy8gRnJvbSB2aXNpdG9yIGZvcmVjYXN0XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJlZGljdGlvbnMucHVzaCh7XHJcbiAgICAgICAgICBtb250aDogdGhpcy5nZXRNb250aE5hbWUoaSksXHJcbiAgICAgICAgICBwcm9qZWN0ZWRSZXZlbnVlOiBNYXRoLnJvdW5kKHByb2plY3RlZFJQViAqIHByb2plY3RlZFZpc2l0b3JzKSxcclxuICAgICAgICAgIHJldmVudWVQZXJWaXNpdG9yOiBNYXRoLnJvdW5kKHByb2plY3RlZFJQViksXHJcbiAgICAgICAgICBjb25maWRlbmNlOiBycHZUcmVuZC5jb3JyZWxhdGlvblxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgbW9kZWw6ICdSZXZlbnVlIFBlciBWaXNpdG9yIFJlZ3Jlc3Npb24gd2l0aCBWaXNpdG9yIENvcnJlbGF0aW9uJyxcclxuICAgICAgICBhY2N1cmFjeTogcnB2VHJlbmQuY29ycmVsYXRpb24sXHJcbiAgICAgICAgbGFzdFRyYWluZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICBwcmVkaWN0aW9uc1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdSZXZlbnVlIHByb2plY3Rpb24gZmFpbGVkOicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gQWR2YW5jZWQgc2VudGltZW50IHRyZW5kIGFuYWx5c2lzIHdpdGggQUlcclxuICBwcml2YXRlIGFzeW5jIGFuYWx5emVTZW50aW1lbnRUcmVuZHMoZmVlZGJhY2tEYXRhOiBhbnlbXSk6IFByb21pc2U8UHJlZGljdGl2ZU1vZGVsPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBHcm91cCBmZWVkYmFjayBieSB0aW1lIHBlcmlvZHNcclxuICAgICAgY29uc3Qgc2VudGltZW50QnlQZXJpb2QgPSB0aGlzLmdyb3VwU2VudGltZW50QnlQZXJpb2QoZmVlZGJhY2tEYXRhKVxyXG4gICAgICBcclxuICAgICAgLy8gRGV0ZWN0IHNlbnRpbWVudCBwYXR0ZXJucyBhbmQgYW5vbWFsaWVzXHJcbiAgICAgIGNvbnN0IHRyZW5kQW5hbHlzaXMgPSB0aGlzLmFuYWx5emVTZW50aW1lbnRQYXR0ZXJucyhzZW50aW1lbnRCeVBlcmlvZClcclxuICAgICAgXHJcbiAgICAgIC8vIFByZWRpY3QgZnV0dXJlIHNlbnRpbWVudCB0cmVuZHNcclxuICAgICAgY29uc3QgcHJlZGljdGlvbnMgPSB0aGlzLnByZWRpY3RTZW50aW1lbnRUcmVuZHModHJlbmRBbmFseXNpcylcclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgbW9kZWw6ICdTZW50aW1lbnQgVHJlbmQgQW5hbHlzaXMgd2l0aCBBbm9tYWx5IERldGVjdGlvbicsXHJcbiAgICAgICAgYWNjdXJhY3k6IHRyZW5kQW5hbHlzaXMuY29uZmlkZW5jZSxcclxuICAgICAgICBsYXN0VHJhaW5lZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgIHByZWRpY3Rpb25zXHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1NlbnRpbWVudCB0cmVuZCBhbmFseXNpcyBmYWlsZWQ6JywgZXJyb3IpXHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBTZWFzb25hbCBwYXR0ZXJuIGRldGVjdGlvbiB1c2luZyBNTFxyXG4gIHByaXZhdGUgYXN5bmMgZGV0ZWN0U2Vhc29uYWxQYXR0ZXJucyh2aXNpdG9yRGF0YTogYW55W10pOiBQcm9taXNlPFByZWRpY3RpdmVNb2RlbD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3Qgc2Vhc29uYWxEYXRhID0gdGhpcy5leHRyYWN0U2Vhc29uYWxGZWF0dXJlcyh2aXNpdG9yRGF0YSlcclxuICAgICAgY29uc3QgcGF0dGVybnMgPSB0aGlzLmlkZW50aWZ5U2Vhc29uYWxQYXR0ZXJucyhzZWFzb25hbERhdGEpXHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIG1vZGVsOiAnU2Vhc29uYWwgRGVjb21wb3NpdGlvbiB3aXRoIEZvdXJpZXIgQW5hbHlzaXMnLFxyXG4gICAgICAgIGFjY3VyYWN5OiBwYXR0ZXJucy5zdHJlbmd0aCxcclxuICAgICAgICBsYXN0VHJhaW5lZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgIHByZWRpY3Rpb25zOiBwYXR0ZXJucy5mb3JlY2FzdFxyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdTZWFzb25hbCBwYXR0ZXJuIGRldGVjdGlvbiBmYWlsZWQ6JywgZXJyb3IpXHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBBSS1wb3dlcmVkIHJpc2sgYXNzZXNzbWVudFxyXG4gIHByaXZhdGUgYXN5bmMgYXNzZXNzUmlza3MoZmVlZGJhY2tEYXRhOiBhbnlbXSwgZGVzdGluYXRpb25EYXRhOiBhbnlbXSk6IFByb21pc2U8UHJlZGljdGl2ZU1vZGVsPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByaXNrRmFjdG9ycyA9IHRoaXMuY2FsY3VsYXRlUmlza0ZhY3RvcnMoZmVlZGJhY2tEYXRhLCBkZXN0aW5hdGlvbkRhdGEpXHJcbiAgICAgIGNvbnN0IHJpc2tQcmVkaWN0aW9ucyA9IHRoaXMucHJlZGljdFJpc2tMZXZlbHMocmlza0ZhY3RvcnMpXHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIG1vZGVsOiAnTXVsdGktZmFjdG9yIFJpc2sgQXNzZXNzbWVudCB3aXRoIFByZWRpY3RpdmUgU2NvcmluZycsXHJcbiAgICAgICAgYWNjdXJhY3k6IHJpc2tQcmVkaWN0aW9ucy5jb25maWRlbmNlLFxyXG4gICAgICAgIGxhc3RUcmFpbmVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgcHJlZGljdGlvbnM6IHJpc2tQcmVkaWN0aW9ucy5mb3JlY2FzdHNcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignUmlzayBhc3Nlc3NtZW50IGZhaWxlZDonLCBlcnJvcilcclxuICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIENvbXBpbGUgTUwgaW5zaWdodHMgZnJvbSB2YXJpb3VzIGFuYWx5c2VzXHJcbiAgcHJpdmF0ZSBhc3luYyBjb21waWxlTWxJbnNpZ2h0cyhcclxuICAgIHZpc2l0b3JEYXRhOiBhbnlbXSxcclxuICAgIGZlZWRiYWNrRGF0YTogYW55W10sXHJcbiAgICByZXZlbnVlRGF0YTogYW55W10sXHJcbiAgICBkZXN0aW5hdGlvbkRhdGE6IGFueVtdXHJcbiAgKTogUHJvbWlzZTxNTEluc2lnaHRbXT4ge1xyXG4gICAgY29uc3QgaW5zaWdodHM6IE1MSW5zaWdodFtdID0gW11cclxuXHJcbiAgICAvLyBUcmVuZCBpbnNpZ2h0c1xyXG4gICAgY29uc3QgdmlzaXRvclRyZW5kID0gdGhpcy5jYWxjdWxhdGVUcmVuZCh2aXNpdG9yRGF0YS5tYXAoZCA9PiBkLnZpc2l0b3JzKSlcclxuICAgIGlmIChNYXRoLmFicyh2aXNpdG9yVHJlbmQuc2xvcGUpID4gMTAwKSB7XHJcbiAgICAgIGluc2lnaHRzLnB1c2goe1xyXG4gICAgICAgIHR5cGU6ICd0cmVuZCcsXHJcbiAgICAgICAgdGl0bGU6IHZpc2l0b3JUcmVuZC5zbG9wZSA+IDAgPyAnU3Ryb25nIFZpc2l0b3IgR3Jvd3RoIERldGVjdGVkJyA6ICdWaXNpdG9yIERlY2xpbmUgQWxlcnQnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBgVmlzaXRvciBudW1iZXJzIGFyZSAke3Zpc2l0b3JUcmVuZC5zbG9wZSA+IDAgPyAnaW5jcmVhc2luZycgOiAnZGVjcmVhc2luZyd9IGJ5IGFwcHJveGltYXRlbHkgJHtNYXRoLmFicyhNYXRoLnJvdW5kKHZpc2l0b3JUcmVuZC5zbG9wZSkpfSB2aXNpdG9ycyBwZXIgbW9udGhgLFxyXG4gICAgICAgIGNvbmZpZGVuY2U6IHZpc2l0b3JUcmVuZC5jb3JyZWxhdGlvbixcclxuICAgICAgICBpbXBhY3Q6IE1hdGguYWJzKHZpc2l0b3JUcmVuZC5zbG9wZSkgPiA1MDAgPyAnaGlnaCcgOiAnbWVkaXVtJyxcclxuICAgICAgICBhY3Rpb25hYmxlOiB0cnVlLFxyXG4gICAgICAgIHJlY29tbWVuZGVkQWN0aW9uczogdmlzaXRvclRyZW5kLnNsb3BlID4gMCBcclxuICAgICAgICAgID8gWydTY2FsZSBpbmZyYXN0cnVjdHVyZSB0byBoYW5kbGUgaW5jcmVhc2VkIGRlbWFuZCcsICdFeHBhbmQgbWFya2V0aW5nIGVmZm9ydHMnLCAnUHJlcGFyZSBmb3IgcGVhayBzZWFzb24gY2FwYWNpdHknXVxyXG4gICAgICAgICAgOiBbJ0ludmVzdGlnYXRlIGNhdXNlcyBvZiBkZWNsaW5lJywgJ0ltcGxlbWVudCB2aXNpdG9yIHJldGVudGlvbiBzdHJhdGVnaWVzJywgJ1JldmlldyBhbmQgaW1wcm92ZSBzZXJ2aWNlIHF1YWxpdHknXVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEFub21hbHkgZGV0ZWN0aW9uIGluc2lnaHRzXHJcbiAgICBjb25zdCBhbm9tYWxpZXMgPSB0aGlzLmRldGVjdERhdGFBbm9tYWxpZXModmlzaXRvckRhdGEsIHJldmVudWVEYXRhKVxyXG4gICAgYW5vbWFsaWVzLmZvckVhY2goYW5vbWFseSA9PiB7XHJcbiAgICAgIGluc2lnaHRzLnB1c2goe1xyXG4gICAgICAgIHR5cGU6ICdhbm9tYWx5JyxcclxuICAgICAgICB0aXRsZTogYFVudXN1YWwgJHthbm9tYWx5Lm1ldHJpY30gUGF0dGVybiBEZXRlY3RlZGAsXHJcbiAgICAgICAgZGVzY3JpcHRpb246IGFub21hbHkuZGVzY3JpcHRpb24sXHJcbiAgICAgICAgY29uZmlkZW5jZTogYW5vbWFseS5jb25maWRlbmNlLFxyXG4gICAgICAgIGltcGFjdDogYW5vbWFseS5zZXZlcml0eSxcclxuICAgICAgICBhY3Rpb25hYmxlOiB0cnVlLFxyXG4gICAgICAgIHJlY29tbWVuZGVkQWN0aW9uczogYW5vbWFseS5yZWNvbW1lbmRhdGlvbnMsXHJcbiAgICAgICAgZGF0YTogYW5vbWFseS5kYXRhXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG5cclxuICAgIC8vIFNlbnRpbWVudC1iYXNlZCBpbnNpZ2h0c1xyXG4gICAgY29uc3Qgc2VudGltZW50SW5zaWdodHMgPSB0aGlzLmdlbmVyYXRlU2VudGltZW50SW5zaWdodHMoZmVlZGJhY2tEYXRhKVxyXG4gICAgaW5zaWdodHMucHVzaCguLi5zZW50aW1lbnRJbnNpZ2h0cylcclxuXHJcbiAgICAvLyBSZXZlbnVlIG9wdGltaXphdGlvbiBpbnNpZ2h0c1xyXG4gICAgY29uc3QgcmV2ZW51ZUluc2lnaHRzID0gdGhpcy5nZW5lcmF0ZVJldmVudWVJbnNpZ2h0cyhyZXZlbnVlRGF0YSwgdmlzaXRvckRhdGEpXHJcbiAgICBpbnNpZ2h0cy5wdXNoKC4uLnJldmVudWVJbnNpZ2h0cylcclxuXHJcbiAgICByZXR1cm4gaW5zaWdodHMuc2xpY2UoMCwgMTUpIC8vIExpbWl0IHRvIHRvcCAxNSBpbnNpZ2h0c1xyXG4gIH1cclxuXHJcbiAgLy8gR2VuZXJhdGUgQUktcG93ZXJlZCBzdHJhdGVnaWMgcmVjb21tZW5kYXRpb25zXHJcbiAgcHJpdmF0ZSBhc3luYyBnZW5lcmF0ZUFJUmVjb21tZW5kYXRpb25zKFxyXG4gICAgaW5zaWdodHM6IE1MSW5zaWdodFtdLFxyXG4gICAgZmVlZGJhY2tEYXRhOiBhbnlbXSxcclxuICAgIGRlc3RpbmF0aW9uRGF0YTogYW55W11cclxuICApOiBQcm9taXNlPHtcclxuICAgIHN0cmF0ZWdpYzogc3RyaW5nW11cclxuICAgIG9wZXJhdGlvbmFsOiBzdHJpbmdbXVxyXG4gICAgbWFya2V0aW5nOiBzdHJpbmdbXVxyXG4gICAgaW5mcmFzdHJ1Y3R1cmU6IHN0cmluZ1tdXHJcbiAgfT4ge1xyXG4gICAgY29uc3QgcmVjb21tZW5kYXRpb25zID0ge1xyXG4gICAgICBzdHJhdGVnaWM6IFtdIGFzIHN0cmluZ1tdLFxyXG4gICAgICBvcGVyYXRpb25hbDogW10gYXMgc3RyaW5nW10sXHJcbiAgICAgIG1hcmtldGluZzogW10gYXMgc3RyaW5nW10sXHJcbiAgICAgIGluZnJhc3RydWN0dXJlOiBbXSBhcyBzdHJpbmdbXVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEFuYWx5emUgaGlnaC1pbXBhY3QgaW5zaWdodHMgZm9yIHN0cmF0ZWdpYyByZWNvbW1lbmRhdGlvbnNcclxuICAgIGNvbnN0IGhpZ2hJbXBhY3RJbnNpZ2h0cyA9IGluc2lnaHRzLmZpbHRlcihpID0+IGkuaW1wYWN0ID09PSAnaGlnaCcgfHwgaS5pbXBhY3QgPT09ICdjcml0aWNhbCcpXHJcbiAgICBcclxuICAgIGhpZ2hJbXBhY3RJbnNpZ2h0cy5mb3JFYWNoKGluc2lnaHQgPT4ge1xyXG4gICAgICBpZiAoaW5zaWdodC50eXBlID09PSAndHJlbmQnICYmIGluc2lnaHQudGl0bGUuaW5jbHVkZXMoJ0dyb3d0aCcpKSB7XHJcbiAgICAgICAgcmVjb21tZW5kYXRpb25zLnN0cmF0ZWdpYy5wdXNoKCdEZXZlbG9wIGxvbmctdGVybSBleHBhbnNpb24gc3RyYXRlZ3kgZm9yIGhpZ2gtZ3Jvd3RoIGRlc3RpbmF0aW9ucycpXHJcbiAgICAgICAgcmVjb21tZW5kYXRpb25zLmluZnJhc3RydWN0dXJlLnB1c2goJ0ludmVzdCBpbiBzY2FsYWJsZSBpbmZyYXN0cnVjdHVyZSBmb3IgcHJvamVjdGVkIHZpc2l0b3IgaW5jcmVhc2UnKVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAoaW5zaWdodC50eXBlID09PSAnYW5vbWFseScgJiYgaW5zaWdodC5pbXBhY3QgPT09ICdjcml0aWNhbCcpIHtcclxuICAgICAgICByZWNvbW1lbmRhdGlvbnMub3BlcmF0aW9uYWwucHVzaCgnSW1wbGVtZW50IGltbWVkaWF0ZSBjb3JyZWN0aXZlIG1lYXN1cmVzIGZvciBkZXRlY3RlZCBhbm9tYWxpZXMnKVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIC8vIFNlbnRpbWVudC1iYXNlZCByZWNvbW1lbmRhdGlvbnNcclxuICAgIGNvbnN0IG5lZ2F0aXZlU2VudGltZW50ID0gZmVlZGJhY2tEYXRhLmZpbHRlcihmID0+IGYuYWlBbmFseXNpcz8uc2VudGltZW50ID09PSAnbmVnYXRpdmUnKVxyXG4gICAgaWYgKG5lZ2F0aXZlU2VudGltZW50Lmxlbmd0aCA+IGZlZWRiYWNrRGF0YS5sZW5ndGggKiAwLjMpIHtcclxuICAgICAgcmVjb21tZW5kYXRpb25zLnN0cmF0ZWdpYy5wdXNoKCdMYXVuY2ggY29tcHJlaGVuc2l2ZSBzZXJ2aWNlIHF1YWxpdHkgaW1wcm92ZW1lbnQgaW5pdGlhdGl2ZScpXHJcbiAgICAgIHJlY29tbWVuZGF0aW9ucy5vcGVyYXRpb25hbC5wdXNoKCdJbXBsZW1lbnQgcmVhbC10aW1lIGZlZWRiYWNrIHJlc3BvbnNlIHN5c3RlbScpXHJcbiAgICB9XHJcblxyXG4gICAgLy8gRGVzdGluYXRpb24tc3BlY2lmaWMgcmVjb21tZW5kYXRpb25zXHJcbiAgICBjb25zdCB1bmRlcnBlcmZvcm1pbmdEZXN0aW5hdGlvbnMgPSBkZXN0aW5hdGlvbkRhdGEuZmlsdGVyKGQgPT4gZC5zYXRpc2ZhY3Rpb24gPCA0LjApXHJcbiAgICBpZiAodW5kZXJwZXJmb3JtaW5nRGVzdGluYXRpb25zLmxlbmd0aCA+IDApIHtcclxuICAgICAgcmVjb21tZW5kYXRpb25zLm9wZXJhdGlvbmFsLnB1c2goYEZvY3VzIGltcHJvdmVtZW50IGVmZm9ydHMgb24gJHt1bmRlcnBlcmZvcm1pbmdEZXN0aW5hdGlvbnMubWFwKGQgPT4gZC5uYW1lKS5qb2luKCcsICcpfWApXHJcbiAgICAgIHJlY29tbWVuZGF0aW9ucy5tYXJrZXRpbmcucHVzaCgnRGV2ZWxvcCB0YXJnZXRlZCBjYW1wYWlnbnMgdG8gaW1wcm92ZSBkZXN0aW5hdGlvbiBwZXJjZXB0aW9uJylcclxuICAgIH1cclxuXHJcbiAgICAvLyBBSS1nZW5lcmF0ZWQgbWFya2V0aW5nIHJlY29tbWVuZGF0aW9uc1xyXG4gICAgY29uc3QgdG9wRGVzdGluYXRpb25zID0gZGVzdGluYXRpb25EYXRhLnNvcnQoKGEsIGIpID0+IGIudmlzaXRvcnMgLSBhLnZpc2l0b3JzKS5zbGljZSgwLCAzKVxyXG4gICAgcmVjb21tZW5kYXRpb25zLm1hcmtldGluZy5wdXNoKGBMZXZlcmFnZSBzdWNjZXNzIHN0b3JpZXMgZnJvbSAke3RvcERlc3RpbmF0aW9ucy5tYXAoZCA9PiBkLm5hbWUpLmpvaW4oJywgJyl9IGluIHByb21vdGlvbmFsIGNhbXBhaWduc2ApXHJcblxyXG4gICAgcmV0dXJuIHJlY29tbWVuZGF0aW9uc1xyXG4gIH1cclxuXHJcbiAgLy8gQ2FsY3VsYXRlIHJlYWwtdGltZSBtZXRyaWNzXHJcbiAgcHJpdmF0ZSBjYWxjdWxhdGVSZWFsVGltZU1ldHJpY3MoXHJcbiAgICB2aXNpdG9yRGF0YTogYW55W10sXHJcbiAgICBmZWVkYmFja0RhdGE6IGFueVtdLFxyXG4gICAgaW5zaWdodHM6IE1MSW5zaWdodFtdXHJcbiAgKSB7XHJcbiAgICBjb25zdCBsYXRlc3RWaXNpdG9ycyA9IHZpc2l0b3JEYXRhW3Zpc2l0b3JEYXRhLmxlbmd0aCAtIDFdPy52aXNpdG9ycyB8fCAwXHJcbiAgICBjb25zdCByZWNlbnRGZWVkYmFjayA9IGZlZWRiYWNrRGF0YS5zbGljZSgtMzApXHJcbiAgICBjb25zdCBhdmdTZW50aW1lbnQgPSByZWNlbnRGZWVkYmFjay5yZWR1Y2UoKHN1bSwgZikgPT4ge1xyXG4gICAgICBjb25zdCBzZW50aW1lbnRTY29yZSA9IGYuYWlBbmFseXNpcz8uc2VudGltZW50ID09PSAncG9zaXRpdmUnID8gMSA6IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZi5haUFuYWx5c2lzPy5zZW50aW1lbnQgPT09ICduZWdhdGl2ZScgPyAtMSA6IDBcclxuICAgICAgcmV0dXJuIHN1bSArIHNlbnRpbWVudFNjb3JlXHJcbiAgICB9LCAwKSAvIHJlY2VudEZlZWRiYWNrLmxlbmd0aFxyXG5cclxuICAgIGNvbnN0IGNyaXRpY2FsSW5zaWdodHMgPSBpbnNpZ2h0cy5maWx0ZXIoaSA9PiBpLmltcGFjdCA9PT0gJ2NyaXRpY2FsJykubGVuZ3RoXHJcbiAgICBjb25zdCBoaWdoSW5zaWdodHMgPSBpbnNpZ2h0cy5maWx0ZXIoaSA9PiBpLmltcGFjdCA9PT0gJ2hpZ2gnKS5sZW5ndGhcclxuXHJcbiAgICBsZXQgYWxlcnRMZXZlbDogJ2dyZWVuJyB8ICd5ZWxsb3cnIHwgJ29yYW5nZScgfCAncmVkJyA9ICdncmVlbidcclxuICAgIGlmIChjcml0aWNhbEluc2lnaHRzID4gMCkgYWxlcnRMZXZlbCA9ICdyZWQnXHJcbiAgICBlbHNlIGlmIChoaWdoSW5zaWdodHMgPiAyKSBhbGVydExldmVsID0gJ29yYW5nZSdcclxuICAgIGVsc2UgaWYgKGF2Z1NlbnRpbWVudCA8IC0wLjIpIGFsZXJ0TGV2ZWwgPSAneWVsbG93J1xyXG5cclxuICAgIGNvbnN0IHRyZW5kID0gdGhpcy5jYWxjdWxhdGVUcmVuZCh2aXNpdG9yRGF0YS5zbGljZSgtNikubWFwKGQgPT4gZC52aXNpdG9ycykpXHJcbiAgICBjb25zdCB0cmVuZERpcmVjdGlvbjogJ3VwJyB8ICdkb3duJyB8ICdzdGFibGUnID0gdHJlbmQuc2xvcGUgPiA1MCA/ICd1cCcgOiB0cmVuZC5zbG9wZSA8IC01MCA/ICdkb3duJyA6ICdzdGFibGUnXHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgY3VycmVudFZpc2l0b3JzOiBsYXRlc3RWaXNpdG9ycyxcclxuICAgICAgc2VudGltZW50U2NvcmU6IE1hdGgucm91bmQoKGF2Z1NlbnRpbWVudCArIDEpICogNTApLCAvLyBDb252ZXJ0IHRvIDAtMTAwIHNjYWxlXHJcbiAgICAgIGFsZXJ0TGV2ZWwsXHJcbiAgICAgIHRyZW5kRGlyZWN0aW9uLFxyXG4gICAgICBhbm9tYWxpZXNEZXRlY3RlZDogaW5zaWdodHMuZmlsdGVyKGkgPT4gaS50eXBlID09PSAnYW5vbWFseScpLmxlbmd0aFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gVXRpbGl0eSBtZXRob2RzIGZvciBjYWxjdWxhdGlvbnNcclxuICBwcml2YXRlIHBlcmZvcm1UaW1lU2VyaWVzRm9yZWNhc3RpbmcoZGF0YTogYW55W10pIHtcclxuICAgIGNvbnN0IHRyZW5kID0gdGhpcy5jYWxjdWxhdGVUcmVuZChkYXRhLm1hcChkID0+IGQudmlzaXRvcnMpKVxyXG4gICAgY29uc3Qgc2Vhc29uYWwgPSB0aGlzLmNhbGN1bGF0ZVNlYXNvbmFsQ29tcG9uZW50KGRhdGEpXHJcbiAgICBcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHRyZW5kOiB0cmVuZC5zbG9wZSAqIGRhdGEubGVuZ3RoICsgdHJlbmQuaW50ZXJjZXB0LFxyXG4gICAgICBzZWFzb25hbCxcclxuICAgICAgYWNjdXJhY3k6IE1hdGgubWF4KDAuNiwgdHJlbmQuY29ycmVsYXRpb24pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNhbGN1bGF0ZVRyZW5kKHZhbHVlczogbnVtYmVyW10pIHtcclxuICAgIGNvbnN0IG4gPSB2YWx1ZXMubGVuZ3RoXHJcbiAgICBjb25zdCBzdW1YID0gdmFsdWVzLnJlZHVjZSgoc3VtLCBfLCBpKSA9PiBzdW0gKyBpLCAwKVxyXG4gICAgY29uc3Qgc3VtWSA9IHZhbHVlcy5yZWR1Y2UoKHN1bSwgdmFsKSA9PiBzdW0gKyB2YWwsIDApXHJcbiAgICBjb25zdCBzdW1YWSA9IHZhbHVlcy5yZWR1Y2UoKHN1bSwgdmFsLCBpKSA9PiBzdW0gKyBpICogdmFsLCAwKVxyXG4gICAgY29uc3Qgc3VtWFggPSB2YWx1ZXMucmVkdWNlKChzdW0sIF8sIGkpID0+IHN1bSArIGkgKiBpLCAwKVxyXG4gICAgXHJcbiAgICBjb25zdCBzbG9wZSA9IChuICogc3VtWFkgLSBzdW1YICogc3VtWSkgLyAobiAqIHN1bVhYIC0gc3VtWCAqIHN1bVgpXHJcbiAgICBjb25zdCBpbnRlcmNlcHQgPSAoc3VtWSAtIHNsb3BlICogc3VtWCkgLyBuXHJcbiAgICBcclxuICAgIC8vIENhbGN1bGF0ZSBjb3JyZWxhdGlvbiBjb2VmZmljaWVudFxyXG4gICAgY29uc3QgbWVhblggPSBzdW1YIC8gblxyXG4gICAgY29uc3QgbWVhblkgPSBzdW1ZIC8gblxyXG4gICAgY29uc3QgbnVtZXJhdG9yID0gdmFsdWVzLnJlZHVjZSgoc3VtLCB2YWwsIGkpID0+IHN1bSArIChpIC0gbWVhblgpICogKHZhbCAtIG1lYW5ZKSwgMClcclxuICAgIGNvbnN0IGRlbm9tWCA9IE1hdGguc3FydCh2YWx1ZXMucmVkdWNlKChzdW0sIF8sIGkpID0+IHN1bSArIE1hdGgucG93KGkgLSBtZWFuWCwgMiksIDApKVxyXG4gICAgY29uc3QgZGVub21ZID0gTWF0aC5zcXJ0KHZhbHVlcy5yZWR1Y2UoKHN1bSwgdmFsKSA9PiBzdW0gKyBNYXRoLnBvdyh2YWwgLSBtZWFuWSwgMiksIDApKVxyXG4gICAgY29uc3QgY29ycmVsYXRpb24gPSBNYXRoLmFicyhudW1lcmF0b3IgLyAoZGVub21YICogZGVub21ZKSlcclxuICAgIFxyXG4gICAgcmV0dXJuIHsgc2xvcGUsIGludGVyY2VwdCwgY29ycmVsYXRpb246IGlzTmFOKGNvcnJlbGF0aW9uKSA/IDAuNSA6IGNvcnJlbGF0aW9uIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgY2FsY3VsYXRlU2Vhc29uYWxDb21wb25lbnQoZGF0YTogYW55W10pIHtcclxuICAgIC8vIFNpbXBsZSBzZWFzb25hbCBjYWxjdWxhdGlvbiAtIGluIHByb2R1Y3Rpb24gd291bGQgdXNlIG1vcmUgc29waGlzdGljYXRlZCBtZXRob2RzXHJcbiAgICByZXR1cm4gZGF0YS5yZWR1Y2UoKHN1bSwgZCkgPT4gc3VtICsgZC5zZWFzb25hbGl0eSwgMCkgLyBkYXRhLmxlbmd0aFxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRTZWFzb25hbGl0eUZhY3Rvcihtb250aDogc3RyaW5nKTogbnVtYmVyIHtcclxuICAgIGNvbnN0IHNlYXNvbmFsRmFjdG9yczogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSA9IHtcclxuICAgICAgJ0phbic6IDAuNywgJ0ZlYic6IDAuOCwgJ01hcic6IDAuOSwgJ0Fwcic6IDEuMiwgJ01heSc6IDEuNCxcclxuICAgICAgJ0p1bic6IDEuMSwgJ0p1bCc6IDAuOCwgJ0F1Zyc6IDAuOSwgJ1NlcCc6IDEuMCwgJ09jdCc6IDEuMyxcclxuICAgICAgJ05vdic6IDEuNSwgJ0RlYyc6IDEuMlxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHNlYXNvbmFsRmFjdG9yc1ttb250aF0gfHwgMS4wXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldFByb2plY3RlZFZpc2l0b3JzKG1vbnRoc0FoZWFkOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgLy8gUGxhY2Vob2xkZXIgLSB3b3VsZCB1c2UgYWN0dWFsIHZpc2l0b3IgZm9yZWNhc3RcclxuICAgIHJldHVybiAxMDAwICsgTWF0aC5yYW5kb20oKSAqIDUwMFxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRNb250aE5hbWUobW9udGhzQWhlYWQ6IG51bWJlcik6IHN0cmluZyB7XHJcbiAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKVxyXG4gICAgZGF0ZS5zZXRNb250aChkYXRlLmdldE1vbnRoKCkgKyBtb250aHNBaGVhZClcclxuICAgIHJldHVybiBkYXRlLnRvTG9jYWxlU3RyaW5nKCdkZWZhdWx0JywgeyBtb250aDogJ3Nob3J0JywgeWVhcjogJ251bWVyaWMnIH0pXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdyb3VwU2VudGltZW50QnlQZXJpb2QoZmVlZGJhY2tEYXRhOiBhbnlbXSkge1xyXG4gICAgLy8gR3JvdXAgZmVlZGJhY2sgYnkgd2Vlay9tb250aCBmb3IgdHJlbmQgYW5hbHlzaXNcclxuICAgIGNvbnN0IGdyb3VwZWQ6IHsgW2tleTogc3RyaW5nXTogYW55W10gfSA9IHt9XHJcbiAgICBmZWVkYmFja0RhdGEuZm9yRWFjaChmZWVkYmFjayA9PiB7XHJcbiAgICAgIGNvbnN0IHBlcmlvZCA9IG5ldyBEYXRlKGZlZWRiYWNrLnRpbWVzdGFtcCkudG9JU09TdHJpbmcoKS5zbGljZSgwLCA3KSAvLyBZWVlZLU1NXHJcbiAgICAgIGlmICghZ3JvdXBlZFtwZXJpb2RdKSBncm91cGVkW3BlcmlvZF0gPSBbXVxyXG4gICAgICBncm91cGVkW3BlcmlvZF0ucHVzaChmZWVkYmFjaylcclxuICAgIH0pXHJcbiAgICByZXR1cm4gZ3JvdXBlZFxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhbmFseXplU2VudGltZW50UGF0dGVybnMoc2VudGltZW50RGF0YTogeyBba2V5OiBzdHJpbmddOiBhbnlbXSB9KSB7XHJcbiAgICAvLyBBbmFseXplIHBhdHRlcm5zIGluIHNlbnRpbWVudCBvdmVyIHRpbWVcclxuICAgIGNvbnN0IHBlcmlvZHMgPSBPYmplY3Qua2V5cyhzZW50aW1lbnREYXRhKS5zb3J0KClcclxuICAgIGNvbnN0IHNlbnRpbWVudFNjb3JlcyA9IHBlcmlvZHMubWFwKHBlcmlvZCA9PiB7XHJcbiAgICAgIGNvbnN0IGZlZWRiYWNrcyA9IHNlbnRpbWVudERhdGFbcGVyaW9kXVxyXG4gICAgICBjb25zdCBhdmdTZW50aW1lbnQgPSBmZWVkYmFja3MucmVkdWNlKChzdW0sIGYpID0+IHtcclxuICAgICAgICBjb25zdCBzY29yZSA9IGYuYWlBbmFseXNpcz8uc2VudGltZW50ID09PSAncG9zaXRpdmUnID8gMSA6IFxyXG4gICAgICAgICAgICAgICAgICAgICBmLmFpQW5hbHlzaXM/LnNlbnRpbWVudCA9PT0gJ25lZ2F0aXZlJyA/IC0xIDogMFxyXG4gICAgICAgIHJldHVybiBzdW0gKyBzY29yZVxyXG4gICAgICB9LCAwKSAvIGZlZWRiYWNrcy5sZW5ndGhcclxuICAgICAgcmV0dXJuIGF2Z1NlbnRpbWVudFxyXG4gICAgfSlcclxuICAgIFxyXG4gICAgY29uc3QgdHJlbmQgPSB0aGlzLmNhbGN1bGF0ZVRyZW5kKHNlbnRpbWVudFNjb3JlcylcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHRyZW5kOiB0cmVuZC5zbG9wZSxcclxuICAgICAgY29uZmlkZW5jZTogdHJlbmQuY29ycmVsYXRpb24sXHJcbiAgICAgIHZvbGF0aWxpdHk6IHRoaXMuY2FsY3VsYXRlVm9sYXRpbGl0eShzZW50aW1lbnRTY29yZXMpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHByZWRpY3RTZW50aW1lbnRUcmVuZHMoYW5hbHlzaXM6IGFueSkge1xyXG4gICAgLy8gUHJlZGljdCBmdXR1cmUgc2VudGltZW50IGJhc2VkIG9uIGN1cnJlbnQgdHJlbmRzXHJcbiAgICBjb25zdCBwcmVkaWN0aW9ucyA9IFtdXHJcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSAzOyBpKyspIHtcclxuICAgICAgcHJlZGljdGlvbnMucHVzaCh7XHJcbiAgICAgICAgcGVyaW9kOiB0aGlzLmdldE1vbnRoTmFtZShpKSxcclxuICAgICAgICBwcmVkaWN0ZWRTZW50aW1lbnQ6IE1hdGgubWF4KC0xLCBNYXRoLm1pbigxLCBhbmFseXNpcy50cmVuZCAqIGkpKSxcclxuICAgICAgICBjb25maWRlbmNlOiBhbmFseXNpcy5jb25maWRlbmNlXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgICByZXR1cm4gcHJlZGljdGlvbnNcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZXh0cmFjdFNlYXNvbmFsRmVhdHVyZXModmlzaXRvckRhdGE6IGFueVtdKSB7XHJcbiAgICByZXR1cm4gdmlzaXRvckRhdGEubWFwKGQgPT4gKHtcclxuICAgICAgbW9udGg6IGQubW9udGgsXHJcbiAgICAgIHZpc2l0b3JzOiBkLnZpc2l0b3JzLFxyXG4gICAgICBtb250aE51bWJlcjogbmV3IERhdGUoZC5tb250aCArICcgMSwgMjAyMycpLmdldE1vbnRoKClcclxuICAgIH0pKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBpZGVudGlmeVNlYXNvbmFsUGF0dGVybnMoc2Vhc29uYWxEYXRhOiBhbnlbXSkge1xyXG4gICAgY29uc3QgbW9udGhseUF2ZzogeyBba2V5OiBudW1iZXJdOiBudW1iZXJbXSB9ID0ge31cclxuICAgIHNlYXNvbmFsRGF0YS5mb3JFYWNoKGQgPT4ge1xyXG4gICAgICBpZiAoIW1vbnRobHlBdmdbZC5tb250aE51bWJlcl0pIG1vbnRobHlBdmdbZC5tb250aE51bWJlcl0gPSBbXVxyXG4gICAgICBtb250aGx5QXZnW2QubW9udGhOdW1iZXJdLnB1c2goZC52aXNpdG9ycylcclxuICAgIH0pXHJcbiAgICBcclxuICAgIGNvbnN0IHBhdHRlcm5zID0gT2JqZWN0LmVudHJpZXMobW9udGhseUF2ZykubWFwKChbbW9udGgsIHZpc2l0b3JzXSkgPT4gKHtcclxuICAgICAgbW9udGg6IHBhcnNlSW50KG1vbnRoKSxcclxuICAgICAgYXZnVmlzaXRvcnM6IHZpc2l0b3JzLnJlZHVjZSgoc3VtLCB2KSA9PiBzdW0gKyB2LCAwKSAvIHZpc2l0b3JzLmxlbmd0aCxcclxuICAgICAgdmFyaWFuY2U6IHRoaXMuY2FsY3VsYXRlVmFyaWFuY2UodmlzaXRvcnMpXHJcbiAgICB9KSlcclxuICAgIFxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3RyZW5ndGg6IDAuOCwgLy8gUGxhY2Vob2xkZXJcclxuICAgICAgZm9yZWNhc3Q6IHBhdHRlcm5zLm1hcChwID0+ICh7XHJcbiAgICAgICAgbW9udGg6IG5ldyBEYXRlKDIwMjQsIHAubW9udGgpLnRvTG9jYWxlU3RyaW5nKCdkZWZhdWx0JywgeyBtb250aDogJ2xvbmcnIH0pLFxyXG4gICAgICAgIGV4cGVjdGVkVmlzaXRvcnM6IE1hdGgucm91bmQocC5hdmdWaXNpdG9ycyksXHJcbiAgICAgICAgY29uZmlkZW5jZTogMSAtIChwLnZhcmlhbmNlIC8gcC5hdmdWaXNpdG9ycylcclxuICAgICAgfSkpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNhbGN1bGF0ZVJpc2tGYWN0b3JzKGZlZWRiYWNrRGF0YTogYW55W10sIGRlc3RpbmF0aW9uRGF0YTogYW55W10pIHtcclxuICAgIHJldHVybiBkZXN0aW5hdGlvbkRhdGEubWFwKGRlc3QgPT4ge1xyXG4gICAgICBjb25zdCBkZXN0RmVlZGJhY2sgPSBmZWVkYmFja0RhdGEuZmlsdGVyKGYgPT4gZi5sb2NhdGlvbiA9PT0gZGVzdC5uYW1lKVxyXG4gICAgICBjb25zdCBuZWdhdGl2ZUZlZWRiYWNrID0gZGVzdEZlZWRiYWNrLmZpbHRlcihmID0+IGYuYWlBbmFseXNpcz8uc2VudGltZW50ID09PSAnbmVnYXRpdmUnKVxyXG4gICAgICBjb25zdCByaXNrU2NvcmUgPSAobmVnYXRpdmVGZWVkYmFjay5sZW5ndGggLyBkZXN0RmVlZGJhY2subGVuZ3RoKSAqIDEwMFxyXG4gICAgICBcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBkZXN0aW5hdGlvbjogZGVzdC5uYW1lLFxyXG4gICAgICAgIHJpc2tTY29yZSxcclxuICAgICAgICBmYWN0b3JzOiB0aGlzLmlkZW50aWZ5Umlza0ZhY3RvcnMoZGVzdEZlZWRiYWNrKVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBwcmVkaWN0Umlza0xldmVscyhyaXNrRmFjdG9yczogYW55W10pIHtcclxuICAgIGNvbnN0IGZvcmVjYXN0cyA9IHJpc2tGYWN0b3JzLm1hcChyZiA9PiAoe1xyXG4gICAgICBkZXN0aW5hdGlvbjogcmYuZGVzdGluYXRpb24sXHJcbiAgICAgIGN1cnJlbnRSaXNrOiByZi5yaXNrU2NvcmUsXHJcbiAgICAgIHByZWRpY3RlZFJpc2s6IE1hdGgubWF4KDAsIHJmLnJpc2tTY29yZSArIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDEwKSxcclxuICAgICAgcmlza0xldmVsOiByZi5yaXNrU2NvcmUgPiAzMCA/ICdoaWdoJyA6IHJmLnJpc2tTY29yZSA+IDE1ID8gJ21lZGl1bScgOiAnbG93J1xyXG4gICAgfSkpXHJcbiAgICBcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGNvbmZpZGVuY2U6IDAuNzUsXHJcbiAgICAgIGZvcmVjYXN0c1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBkZXRlY3REYXRhQW5vbWFsaWVzKHZpc2l0b3JEYXRhOiBhbnlbXSwgcmV2ZW51ZURhdGE6IGFueVtdKTogQXJyYXk8e1xyXG4gICAgbWV0cmljOiBzdHJpbmdcclxuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmdcclxuICAgIGNvbmZpZGVuY2U6IG51bWJlclxyXG4gICAgc2V2ZXJpdHk6ICdsb3cnIHwgJ21lZGl1bScgfCAnaGlnaCcgfCAnY3JpdGljYWwnXHJcbiAgICByZWNvbW1lbmRhdGlvbnM6IHN0cmluZ1tdXHJcbiAgICBkYXRhOiBhbnlcclxuICB9PiB7XHJcbiAgICBjb25zdCBhbm9tYWxpZXM6IEFycmF5PHtcclxuICAgICAgbWV0cmljOiBzdHJpbmdcclxuICAgICAgZGVzY3JpcHRpb246IHN0cmluZ1xyXG4gICAgICBjb25maWRlbmNlOiBudW1iZXJcclxuICAgICAgc2V2ZXJpdHk6ICdsb3cnIHwgJ21lZGl1bScgfCAnaGlnaCcgfCAnY3JpdGljYWwnXHJcbiAgICAgIHJlY29tbWVuZGF0aW9uczogc3RyaW5nW11cclxuICAgICAgZGF0YTogYW55XHJcbiAgICB9PiA9IFtdXHJcbiAgICBcclxuICAgIC8vIERldGVjdCB2aXNpdG9yIGFub21hbGllc1xyXG4gICAgY29uc3QgdmlzaXRvclZhbHVlcyA9IHZpc2l0b3JEYXRhLm1hcChkID0+IGQudmlzaXRvcnMpXHJcbiAgICBjb25zdCB2aXNpdG9yTWVhbiA9IHZpc2l0b3JWYWx1ZXMucmVkdWNlKChzdW0sIHYpID0+IHN1bSArIHYsIDApIC8gdmlzaXRvclZhbHVlcy5sZW5ndGhcclxuICAgIGNvbnN0IHZpc2l0b3JTdGQgPSBNYXRoLnNxcnQodmlzaXRvclZhbHVlcy5yZWR1Y2UoKHN1bSwgdikgPT4gc3VtICsgTWF0aC5wb3codiAtIHZpc2l0b3JNZWFuLCAyKSwgMCkgLyB2aXNpdG9yVmFsdWVzLmxlbmd0aClcclxuICAgIFxyXG4gICAgdmlzaXRvckRhdGEuZm9yRWFjaCgoZCwgaSkgPT4ge1xyXG4gICAgICBpZiAoTWF0aC5hYnMoZC52aXNpdG9ycyAtIHZpc2l0b3JNZWFuKSA+IDIgKiB2aXNpdG9yU3RkKSB7XHJcbiAgICAgICAgYW5vbWFsaWVzLnB1c2goe1xyXG4gICAgICAgICAgbWV0cmljOiAnVmlzaXRvciBDb3VudCcsXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogYFVudXN1YWwgdmlzaXRvciBjb3VudCBvZiAke2QudmlzaXRvcnN9IGRldGVjdGVkIGluICR7ZC5tb250aH1gLFxyXG4gICAgICAgICAgY29uZmlkZW5jZTogMC44NSxcclxuICAgICAgICAgIHNldmVyaXR5OiAnbWVkaXVtJyBhcyBjb25zdCxcclxuICAgICAgICAgIHJlY29tbWVuZGF0aW9uczogWydJbnZlc3RpZ2F0ZSBleHRlcm5hbCBmYWN0b3JzJywgJ1ZlcmlmeSBkYXRhIGFjY3VyYWN5J10sXHJcbiAgICAgICAgICBkYXRhOiB7IG1vbnRoOiBkLm1vbnRoLCB2YWx1ZTogZC52aXNpdG9ycywgZXhwZWN0ZWQ6IE1hdGgucm91bmQodmlzaXRvck1lYW4pIH1cclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgXHJcbiAgICByZXR1cm4gYW5vbWFsaWVzXHJcbiAgfVxyXG5cclxuICAvLyBHZW5lcmF0ZSBzdHJhdGVnaWMgaW5zaWdodHMgZnJvbSBkYXRhIHBhdHRlcm5zXHJcbiAgcHJpdmF0ZSBnZW5lcmF0ZVN0cmF0ZWdpY0luc2lnaHRzKHZpc2l0b3JEYXRhOiBhbnlbXSwgZmVlZGJhY2tEYXRhOiBhbnlbXSwgZGVzdGluYXRpb25EYXRhOiBhbnlbXSk6IE1MSW5zaWdodFtdIHtcclxuICAgIGNvbnN0IGluc2lnaHRzOiBNTEluc2lnaHRbXSA9IFtdXHJcbiAgICBcclxuICAgIC8vIEFuYWx5emUgdmlzaXRvciBncm93dGggcGF0dGVybnNcclxuICAgIGNvbnN0IHJlY2VudEdyb3d0aCA9IHRoaXMuY2FsY3VsYXRlVHJlbmQodmlzaXRvckRhdGEuc2xpY2UoLTYpLm1hcChkID0+IGQudmlzaXRvcnMpKVxyXG4gICAgaWYgKHJlY2VudEdyb3d0aC5zbG9wZSA+IDEwMCkge1xyXG4gICAgICBpbnNpZ2h0cy5wdXNoKHtcclxuICAgICAgICB0eXBlOiAndHJlbmQnLFxyXG4gICAgICAgIHRpdGxlOiAnQWNjZWxlcmF0aW5nIFRvdXJpc20gR3Jvd3RoJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogYFRvdXJpc20gaXMgZXhwZXJpZW5jaW5nIHJhcGlkIGdyb3d0aCB3aXRoICR7TWF0aC5yb3VuZChyZWNlbnRHcm93dGguc2xvcGUpfSBhZGRpdGlvbmFsIHZpc2l0b3JzIHBlciBtb250aGAsXHJcbiAgICAgICAgY29uZmlkZW5jZTogcmVjZW50R3Jvd3RoLmNvcnJlbGF0aW9uLFxyXG4gICAgICAgIGltcGFjdDogJ2hpZ2gnLFxyXG4gICAgICAgIGFjdGlvbmFibGU6IHRydWUsXHJcbiAgICAgICAgcmVjb21tZW5kZWRBY3Rpb25zOiBbJ1NjYWxlIGluZnJhc3RydWN0dXJlJywgJ0V4cGFuZCBtYXJrZXRpbmcgYnVkZ2V0JywgJ1RyYWluIGFkZGl0aW9uYWwgc3RhZmYnXVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gaW5zaWdodHNcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2VuZXJhdGVTZW50aW1lbnRJbnNpZ2h0cyhmZWVkYmFja0RhdGE6IGFueVtdKTogTUxJbnNpZ2h0W10ge1xyXG4gICAgY29uc3QgaW5zaWdodHM6IE1MSW5zaWdodFtdID0gW11cclxuICAgIFxyXG4gICAgY29uc3QgcmVjZW50RmVlZGJhY2sgPSBmZWVkYmFja0RhdGEuc2xpY2UoLTUwKVxyXG4gICAgY29uc3QgbmVnYXRpdmVDb3VudCA9IHJlY2VudEZlZWRiYWNrLmZpbHRlcihmID0+IGYuYWlBbmFseXNpcz8uc2VudGltZW50ID09PSAnbmVnYXRpdmUnKS5sZW5ndGhcclxuICAgIGNvbnN0IG5lZ2F0aXZlUGVyY2VudGFnZSA9IChuZWdhdGl2ZUNvdW50IC8gcmVjZW50RmVlZGJhY2subGVuZ3RoKSAqIDEwMFxyXG4gICAgXHJcbiAgICBpZiAobmVnYXRpdmVQZXJjZW50YWdlID4gMjUpIHtcclxuICAgICAgaW5zaWdodHMucHVzaCh7XHJcbiAgICAgICAgdHlwZTogJ3JlY29tbWVuZGF0aW9uJyxcclxuICAgICAgICB0aXRsZTogJ0hpZ2ggTmVnYXRpdmUgU2VudGltZW50IEFsZXJ0JyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogYCR7bmVnYXRpdmVQZXJjZW50YWdlLnRvRml4ZWQoMSl9JSBvZiByZWNlbnQgZmVlZGJhY2sgaXMgbmVnYXRpdmUsIGluZGljYXRpbmcgc2VydmljZSBxdWFsaXR5IGlzc3Vlc2AsXHJcbiAgICAgICAgY29uZmlkZW5jZTogMC45LFxyXG4gICAgICAgIGltcGFjdDogJ2hpZ2gnLFxyXG4gICAgICAgIGFjdGlvbmFibGU6IHRydWUsXHJcbiAgICAgICAgcmVjb21tZW5kZWRBY3Rpb25zOiBbXHJcbiAgICAgICAgICAnQ29uZHVjdCBpbW1lZGlhdGUgc2VydmljZSBxdWFsaXR5IGF1ZGl0JyxcclxuICAgICAgICAgICdJbXBsZW1lbnQgc3RhZmYgcmV0cmFpbmluZyBwcm9ncmFtJyxcclxuICAgICAgICAgICdFc3RhYmxpc2ggcmFwaWQgcmVzcG9uc2UgdGVhbSBmb3IgbmVnYXRpdmUgZmVlZGJhY2snXHJcbiAgICAgICAgXVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gaW5zaWdodHNcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2VuZXJhdGVSZXZlbnVlSW5zaWdodHMocmV2ZW51ZURhdGE6IGFueVtdLCB2aXNpdG9yRGF0YTogYW55W10pOiBNTEluc2lnaHRbXSB7XHJcbiAgICBjb25zdCBpbnNpZ2h0czogTUxJbnNpZ2h0W10gPSBbXVxyXG4gICAgXHJcbiAgICBjb25zdCByZXZlbnVlUGVyVmlzaXRvciA9IHJldmVudWVEYXRhLm1hcCgociwgaSkgPT4gci5yZXZlbnVlIC8gKHZpc2l0b3JEYXRhW2ldPy52aXNpdG9ycyB8fCAxKSlcclxuICAgIGNvbnN0IHJwdlRyZW5kID0gdGhpcy5jYWxjdWxhdGVUcmVuZChyZXZlbnVlUGVyVmlzaXRvcilcclxuICAgIFxyXG4gICAgaWYgKHJwdlRyZW5kLnNsb3BlIDwgLTEwKSB7XHJcbiAgICAgIGluc2lnaHRzLnB1c2goe1xyXG4gICAgICAgIHR5cGU6ICd0cmVuZCcsXHJcbiAgICAgICAgdGl0bGU6ICdEZWNsaW5pbmcgUmV2ZW51ZSBQZXIgVmlzaXRvcicsXHJcbiAgICAgICAgZGVzY3JpcHRpb246IGBSZXZlbnVlIHBlciB2aXNpdG9yIGlzIGRlY2xpbmluZyBieSDigrkke01hdGguYWJzKHJwdlRyZW5kLnNsb3BlKS50b0ZpeGVkKDApfSBwZXIgbW9udGhgLFxyXG4gICAgICAgIGNvbmZpZGVuY2U6IHJwdlRyZW5kLmNvcnJlbGF0aW9uLFxyXG4gICAgICAgIGltcGFjdDogJ21lZGl1bScsXHJcbiAgICAgICAgYWN0aW9uYWJsZTogdHJ1ZSxcclxuICAgICAgICByZWNvbW1lbmRlZEFjdGlvbnM6IFtcclxuICAgICAgICAgICdSZXZpZXcgcHJpY2luZyBzdHJhdGVneScsXHJcbiAgICAgICAgICAnRW5oYW5jZSB2YWx1ZSBwcm9wb3NpdGlvbicsXHJcbiAgICAgICAgICAnSW50cm9kdWNlIHByZW1pdW0gc2VydmljZSB0aWVycydcclxuICAgICAgICBdXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiBpbnNpZ2h0c1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBpZGVudGlmeVJpc2tGYWN0b3JzKGZlZWRiYWNrOiBhbnlbXSkge1xyXG4gICAgY29uc3QgZmFjdG9ycyA9IFtdXHJcbiAgICBjb25zdCBuZWdhdGl2ZUtleXdvcmRzID0gZmVlZGJhY2tcclxuICAgICAgLmZpbHRlcihmID0+IGYuYWlBbmFseXNpcz8uc2VudGltZW50ID09PSAnbmVnYXRpdmUnKVxyXG4gICAgICAuZmxhdE1hcChmID0+IGYuYWlBbmFseXNpcz8ua2V5d29yZHMgfHwgW10pXHJcbiAgICBcclxuICAgIGNvbnN0IGtleXdvcmRDb3VudHM6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH0gPSB7fVxyXG4gICAgbmVnYXRpdmVLZXl3b3Jkcy5mb3JFYWNoKGtleXdvcmQgPT4ge1xyXG4gICAgICBrZXl3b3JkQ291bnRzW2tleXdvcmRdID0gKGtleXdvcmRDb3VudHNba2V5d29yZF0gfHwgMCkgKyAxXHJcbiAgICB9KVxyXG4gICAgXHJcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMoa2V5d29yZENvdW50cylcclxuICAgICAgLnNvcnQoKFssYV0sIFssYl0pID0+IGIgLSBhKVxyXG4gICAgICAuc2xpY2UoMCwgNSlcclxuICAgICAgLm1hcCgoW2tleXdvcmQsIGNvdW50XSkgPT4gKHsgZmFjdG9yOiBrZXl3b3JkLCBmcmVxdWVuY3k6IGNvdW50IH0pKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjYWxjdWxhdGVWYXJpYW5jZSh2YWx1ZXM6IG51bWJlcltdKSB7XHJcbiAgICBjb25zdCBtZWFuID0gdmFsdWVzLnJlZHVjZSgoc3VtLCB2KSA9PiBzdW0gKyB2LCAwKSAvIHZhbHVlcy5sZW5ndGhcclxuICAgIHJldHVybiB2YWx1ZXMucmVkdWNlKChzdW0sIHYpID0+IHN1bSArIE1hdGgucG93KHYgLSBtZWFuLCAyKSwgMCkgLyB2YWx1ZXMubGVuZ3RoXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNhbGN1bGF0ZVZvbGF0aWxpdHkodmFsdWVzOiBudW1iZXJbXSkge1xyXG4gICAgY29uc3QgY2hhbmdlcyA9IHZhbHVlcy5zbGljZSgxKS5tYXAoKHYsIGkpID0+IE1hdGguYWJzKHYgLSB2YWx1ZXNbaV0pKVxyXG4gICAgcmV0dXJuIGNoYW5nZXMucmVkdWNlKChzdW0sIGMpID0+IHN1bSArIGMsIDApIC8gY2hhbmdlcy5sZW5ndGhcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZXh0cmFjdE1vZGVsUmVzdWx0KHJlc3VsdDogUHJvbWlzZVNldHRsZWRSZXN1bHQ8UHJlZGljdGl2ZU1vZGVsPik6IFByZWRpY3RpdmVNb2RlbCB7XHJcbiAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gJ2Z1bGZpbGxlZCcpIHtcclxuICAgICAgcmV0dXJuIHJlc3VsdC52YWx1ZVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbW9kZWw6ICdGYWxsYmFjayBNb2RlbCcsXHJcbiAgICAgIGFjY3VyYWN5OiAwLjUsXHJcbiAgICAgIGxhc3RUcmFpbmVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgIHByZWRpY3Rpb25zOiBbXVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRGYWxsYmFja0FuYWx5dGljcygpOiBBZHZhbmNlZEFuYWx5dGljcyB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBwcmVkaWN0aXZlTW9kZWxzOiB7XHJcbiAgICAgICAgdmlzaXRvckZvcmVjYXN0OiB7XHJcbiAgICAgICAgICBtb2RlbDogJ0Jhc2ljIExpbmVhciBSZWdyZXNzaW9uJyxcclxuICAgICAgICAgIGFjY3VyYWN5OiAwLjYsXHJcbiAgICAgICAgICBsYXN0VHJhaW5lZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgICAgcHJlZGljdGlvbnM6IFtdXHJcbiAgICAgICAgfSxcclxuICAgICAgICByZXZlbnVlUHJvamVjdGlvbjoge1xyXG4gICAgICAgICAgbW9kZWw6ICdSZXZlbnVlIFRyZW5kIEFuYWx5c2lzJyxcclxuICAgICAgICAgIGFjY3VyYWN5OiAwLjUsXHJcbiAgICAgICAgICBsYXN0VHJhaW5lZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgICAgcHJlZGljdGlvbnM6IFtdXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZW50aW1lbnRUcmVuZDoge1xyXG4gICAgICAgICAgbW9kZWw6ICdTZW50aW1lbnQgTW92aW5nIEF2ZXJhZ2UnLFxyXG4gICAgICAgICAgYWNjdXJhY3k6IDAuNyxcclxuICAgICAgICAgIGxhc3RUcmFpbmVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgICBwcmVkaWN0aW9uczogW11cclxuICAgICAgICB9LFxyXG4gICAgICAgIHNlYXNvbmFsUGF0dGVybjoge1xyXG4gICAgICAgICAgbW9kZWw6ICdTZWFzb25hbCBEZWNvbXBvc2l0aW9uJyxcclxuICAgICAgICAgIGFjY3VyYWN5OiAwLjgsXHJcbiAgICAgICAgICBsYXN0VHJhaW5lZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgICAgcHJlZGljdGlvbnM6IFtdXHJcbiAgICAgICAgfSxcclxuICAgICAgICByaXNrQXNzZXNzbWVudDoge1xyXG4gICAgICAgICAgbW9kZWw6ICdSaXNrIFNjb3JpbmcgTW9kZWwnLFxyXG4gICAgICAgICAgYWNjdXJhY3k6IDAuNixcclxuICAgICAgICAgIGxhc3RUcmFpbmVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgICBwcmVkaWN0aW9uczogW11cclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIG1sSW5zaWdodHM6IFtdLFxyXG4gICAgICByZWFsVGltZU1ldHJpY3M6IHtcclxuICAgICAgICBjdXJyZW50VmlzaXRvcnM6IDEyMDAsXHJcbiAgICAgICAgc2VudGltZW50U2NvcmU6IDc1LFxyXG4gICAgICAgIGFsZXJ0TGV2ZWw6ICdncmVlbicsXHJcbiAgICAgICAgdHJlbmREaXJlY3Rpb246ICdzdGFibGUnLFxyXG4gICAgICAgIGFub21hbGllc0RldGVjdGVkOiAwXHJcbiAgICAgIH0sXHJcbiAgICAgIGFpUmVjb21tZW5kYXRpb25zOiB7XHJcbiAgICAgICAgc3RyYXRlZ2ljOiBbJ0NvbnRpbnVlIG1vbml0b3JpbmcgdG91cmlzbSBtZXRyaWNzJ10sXHJcbiAgICAgICAgb3BlcmF0aW9uYWw6IFsnTWFpbnRhaW4gY3VycmVudCBzZXJ2aWNlIHN0YW5kYXJkcyddLFxyXG4gICAgICAgIG1hcmtldGluZzogWydMZXZlcmFnZSBwb3NpdGl2ZSBmZWVkYmFjayBpbiBjYW1wYWlnbnMnXSxcclxuICAgICAgICBpbmZyYXN0cnVjdHVyZTogWydQbGFuIGZvciBzZWFzb25hbCBjYXBhY2l0eSBhZGp1c3RtZW50cyddXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vIFNpbmdsZXRvbiBpbnN0YW5jZVxyXG5leHBvcnQgY29uc3QgYWR2YW5jZWRBbmFseXRpY3MgPSBuZXcgQWR2YW5jZWRBbmFseXRpY3NFbmdpbmUoKVxyXG4iXSwibmFtZXMiOlsiQWR2YW5jZWRBbmFseXRpY3NFbmdpbmUiLCJjb25zdHJ1Y3RvciIsImh1Z2dpbmdGYWNlS2V5IiwicHJvY2VzcyIsImVudiIsIkhVR0dJTkdGQUNFX0FQSV9LRVkiLCJvcGVuQUlLZXkiLCJPUEVOQUlfQVBJX0tFWSIsImdlbmVyYXRlQWR2YW5jZWRBbmFseXRpY3MiLCJ2aXNpdG9yRGF0YSIsImZlZWRiYWNrRGF0YSIsInJldmVudWVEYXRhIiwiZGVzdGluYXRpb25EYXRhIiwidmlzaXRvckZvcmVjYXN0IiwicmV2ZW51ZVByb2plY3Rpb24iLCJzZW50aW1lbnRBbmFseXNpcyIsInNlYXNvbmFsUGF0dGVybnMiLCJyaXNrQXNzZXNzbWVudCIsIlByb21pc2UiLCJhbGxTZXR0bGVkIiwiZm9yZWNhc3RWaXNpdG9ycyIsInByb2plY3RSZXZlbnVlIiwiYW5hbHl6ZVNlbnRpbWVudFRyZW5kcyIsImRldGVjdFNlYXNvbmFsUGF0dGVybnMiLCJhc3Nlc3NSaXNrcyIsImFub21hbHlEZXRlY3Rpb24iLCJkZXRlY3REYXRhQW5vbWFsaWVzIiwic3RyYXRlZ2ljSW5zaWdodHMiLCJnZW5lcmF0ZVN0cmF0ZWdpY0luc2lnaHRzIiwibWxJbnNpZ2h0cyIsImNvbXBpbGVNbEluc2lnaHRzIiwiYWlSZWNvbW1lbmRhdGlvbnMiLCJnZW5lcmF0ZUFJUmVjb21tZW5kYXRpb25zIiwicmVhbFRpbWVNZXRyaWNzIiwiY2FsY3VsYXRlUmVhbFRpbWVNZXRyaWNzIiwicHJlZGljdGl2ZU1vZGVscyIsImV4dHJhY3RNb2RlbFJlc3VsdCIsInNlbnRpbWVudFRyZW5kIiwic2Vhc29uYWxQYXR0ZXJuIiwiZXJyb3IiLCJjb25zb2xlIiwiZ2V0RmFsbGJhY2tBbmFseXRpY3MiLCJ0aW1lU2VyaWVzRGF0YSIsIm1hcCIsImQiLCJpIiwidGltZXN0YW1wIiwidmlzaXRvcnMiLCJtb250aCIsInNlYXNvbmFsaXR5IiwiZ2V0U2Vhc29uYWxpdHlGYWN0b3IiLCJmb3JlY2FzdCIsInBlcmZvcm1UaW1lU2VyaWVzRm9yZWNhc3RpbmciLCJwcmVkaWN0aW9ucyIsIm5leHRNb250aCIsIkRhdGUiLCJzZXRNb250aCIsImdldE1vbnRoIiwidG9Mb2NhbGVTdHJpbmciLCJwdXNoIiwieWVhciIsInByZWRpY3RlZFZpc2l0b3JzIiwiTWF0aCIsInJvdW5kIiwidHJlbmQiLCJzZWFzb25hbCIsImNvbmZpZGVuY2UiLCJhY2N1cmFjeSIsIm1vZGVsIiwibGFzdFRyYWluZWQiLCJ0b0lTT1N0cmluZyIsInJldmVudWVQZXJWaXNpdG9yIiwiciIsInJwdiIsInJldmVudWUiLCJ0b3RhbFJldmVudWUiLCJycHZUcmVuZCIsImNhbGN1bGF0ZVRyZW5kIiwicHJvamVjdGVkUlBWIiwic2xvcGUiLCJpbnRlcmNlcHQiLCJwcm9qZWN0ZWRWaXNpdG9ycyIsImdldFByb2plY3RlZFZpc2l0b3JzIiwiZ2V0TW9udGhOYW1lIiwicHJvamVjdGVkUmV2ZW51ZSIsImNvcnJlbGF0aW9uIiwic2VudGltZW50QnlQZXJpb2QiLCJncm91cFNlbnRpbWVudEJ5UGVyaW9kIiwidHJlbmRBbmFseXNpcyIsImFuYWx5emVTZW50aW1lbnRQYXR0ZXJucyIsInByZWRpY3RTZW50aW1lbnRUcmVuZHMiLCJzZWFzb25hbERhdGEiLCJleHRyYWN0U2Vhc29uYWxGZWF0dXJlcyIsInBhdHRlcm5zIiwiaWRlbnRpZnlTZWFzb25hbFBhdHRlcm5zIiwic3RyZW5ndGgiLCJyaXNrRmFjdG9ycyIsImNhbGN1bGF0ZVJpc2tGYWN0b3JzIiwicmlza1ByZWRpY3Rpb25zIiwicHJlZGljdFJpc2tMZXZlbHMiLCJmb3JlY2FzdHMiLCJpbnNpZ2h0cyIsInZpc2l0b3JUcmVuZCIsImFicyIsInR5cGUiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiaW1wYWN0IiwiYWN0aW9uYWJsZSIsInJlY29tbWVuZGVkQWN0aW9ucyIsImFub21hbGllcyIsImZvckVhY2giLCJhbm9tYWx5IiwibWV0cmljIiwic2V2ZXJpdHkiLCJyZWNvbW1lbmRhdGlvbnMiLCJkYXRhIiwic2VudGltZW50SW5zaWdodHMiLCJnZW5lcmF0ZVNlbnRpbWVudEluc2lnaHRzIiwicmV2ZW51ZUluc2lnaHRzIiwiZ2VuZXJhdGVSZXZlbnVlSW5zaWdodHMiLCJzbGljZSIsInN0cmF0ZWdpYyIsIm9wZXJhdGlvbmFsIiwibWFya2V0aW5nIiwiaW5mcmFzdHJ1Y3R1cmUiLCJoaWdoSW1wYWN0SW5zaWdodHMiLCJmaWx0ZXIiLCJpbnNpZ2h0IiwiaW5jbHVkZXMiLCJuZWdhdGl2ZVNlbnRpbWVudCIsImYiLCJhaUFuYWx5c2lzIiwic2VudGltZW50IiwibGVuZ3RoIiwidW5kZXJwZXJmb3JtaW5nRGVzdGluYXRpb25zIiwic2F0aXNmYWN0aW9uIiwibmFtZSIsImpvaW4iLCJ0b3BEZXN0aW5hdGlvbnMiLCJzb3J0IiwiYSIsImIiLCJsYXRlc3RWaXNpdG9ycyIsInJlY2VudEZlZWRiYWNrIiwiYXZnU2VudGltZW50IiwicmVkdWNlIiwic3VtIiwic2VudGltZW50U2NvcmUiLCJjcml0aWNhbEluc2lnaHRzIiwiaGlnaEluc2lnaHRzIiwiYWxlcnRMZXZlbCIsInRyZW5kRGlyZWN0aW9uIiwiY3VycmVudFZpc2l0b3JzIiwiYW5vbWFsaWVzRGV0ZWN0ZWQiLCJjYWxjdWxhdGVTZWFzb25hbENvbXBvbmVudCIsIm1heCIsInZhbHVlcyIsIm4iLCJzdW1YIiwiXyIsInN1bVkiLCJ2YWwiLCJzdW1YWSIsInN1bVhYIiwibWVhblgiLCJtZWFuWSIsIm51bWVyYXRvciIsImRlbm9tWCIsInNxcnQiLCJwb3ciLCJkZW5vbVkiLCJpc05hTiIsInNlYXNvbmFsRmFjdG9ycyIsIm1vbnRoc0FoZWFkIiwicmFuZG9tIiwiZGF0ZSIsImdyb3VwZWQiLCJmZWVkYmFjayIsInBlcmlvZCIsInNlbnRpbWVudERhdGEiLCJwZXJpb2RzIiwiT2JqZWN0Iiwia2V5cyIsInNlbnRpbWVudFNjb3JlcyIsImZlZWRiYWNrcyIsInNjb3JlIiwidm9sYXRpbGl0eSIsImNhbGN1bGF0ZVZvbGF0aWxpdHkiLCJhbmFseXNpcyIsInByZWRpY3RlZFNlbnRpbWVudCIsIm1pbiIsIm1vbnRoTnVtYmVyIiwibW9udGhseUF2ZyIsImVudHJpZXMiLCJwYXJzZUludCIsImF2Z1Zpc2l0b3JzIiwidiIsInZhcmlhbmNlIiwiY2FsY3VsYXRlVmFyaWFuY2UiLCJwIiwiZXhwZWN0ZWRWaXNpdG9ycyIsImRlc3QiLCJkZXN0RmVlZGJhY2siLCJsb2NhdGlvbiIsIm5lZ2F0aXZlRmVlZGJhY2siLCJyaXNrU2NvcmUiLCJkZXN0aW5hdGlvbiIsImZhY3RvcnMiLCJpZGVudGlmeVJpc2tGYWN0b3JzIiwicmYiLCJjdXJyZW50UmlzayIsInByZWRpY3RlZFJpc2siLCJyaXNrTGV2ZWwiLCJ2aXNpdG9yVmFsdWVzIiwidmlzaXRvck1lYW4iLCJ2aXNpdG9yU3RkIiwidmFsdWUiLCJleHBlY3RlZCIsInJlY2VudEdyb3d0aCIsIm5lZ2F0aXZlQ291bnQiLCJuZWdhdGl2ZVBlcmNlbnRhZ2UiLCJ0b0ZpeGVkIiwibmVnYXRpdmVLZXl3b3JkcyIsImZsYXRNYXAiLCJrZXl3b3JkcyIsImtleXdvcmRDb3VudHMiLCJrZXl3b3JkIiwiY291bnQiLCJmYWN0b3IiLCJmcmVxdWVuY3kiLCJtZWFuIiwiY2hhbmdlcyIsImMiLCJyZXN1bHQiLCJzdGF0dXMiLCJhZHZhbmNlZEFuYWx5dGljcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/advanced-analytics.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalytics%2Froute&page=%2Fapi%2Fanalytics%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalytics%2Froute.ts&appDir=C%3A%5CUsers%5Cpriya%5COneDrive%5CDesktop%5CTourism-Jharkhand%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cpriya%5COneDrive%5CDesktop%5CTourism-Jharkhand&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();